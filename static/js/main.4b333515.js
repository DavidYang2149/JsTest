(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(52);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 16 modules\nvar es = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/@sentry/react/esm/sdk.js\nvar sdk = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./node_modules/@sentry/tracing/esm/index.js + 2 modules\nvar esm = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js\nvar redux_toolkit_esm = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(115);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js\nvar firestore_dist_index_esm = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js\nvar storage_dist_index_esm = __webpack_require__(119);\n\n// CONCATENATED MODULE: ./config/dev.js\nconst devConfig = {\n  apiKey: "AIzaSyBWq2ijQg3f9QqIx3gDKsYda0wIeed5zqE",\n  authDomain: "mybakingrecipe.firebaseapp.com",\n  databaseURL: "https://mybakingrecipe-default-rtdb.firebaseio.com",\n  projectId: "mybakingrecipe",\n  storageBucket: "mybakingrecipe.appspot.com",\n  messagingSenderId: "915152243690",\n  appId: "1:915152243690:web:eabd6afc6124e887434093",\n  measurementId: "G-R8B8QCRYLB",\n  status: \'development\',\n};\n\n/* harmony default export */ var dev = (devConfig);\n\n// CONCATENATED MODULE: ./config/prod.js\nconst prodConfig = {\n  apiKey: "AIzaSyBWq2ijQg3f9QqIx3gDKsYda0wIeed5zqE",\n  authDomain: "mybakingrecipe.firebaseapp.com",\n  databaseURL: "https://mybakingrecipe-default-rtdb.firebaseio.com",\n  projectId: "mybakingrecipe",\n  storageBucket: "mybakingrecipe.appspot.com",\n  messagingSenderId: "915152243690",\n  appId: "1:915152243690:web:eabd6afc6124e887434093",\n  measurementId: "G-R8B8QCRYLB",\n  status: \'production\',\n};\n\n/* harmony default export */ var prod = (prodConfig);\n\n// CONCATENATED MODULE: ./config/index.js\n\n\n\nconst config =  true\n  ? prod\n  : undefined;\n\n/* harmony default export */ var config_0 = (config);\n\n// CONCATENATED MODULE: ./src/services/firebase.js\n\n // import \'firebase/analytics\';\n\n\n\n\nindex_esm["a" /* default */].initializeApp(config_0);\nconst auth = index_esm["a" /* default */].auth(); // auth.setPersistence(firebase.auth.Auth.Persistence.SESSION);\n// export const analytics = firebase.analytics();\n\nconst fireStore = index_esm["a" /* default */].firestore;\nconst db = index_esm["a" /* default */].firestore();\nconst provider = new index_esm["a" /* default */].auth.GoogleAuthProvider();\nconst storage = index_esm["a" /* default */].storage();\n// CONCATENATED MODULE: ./src/utils/storage.js\nconst saveItem = (key, value) => {\n  sessionStorage.setItem(key, value);\n};\nconst loadItem = key => {\n  return sessionStorage.getItem(key);\n};\n// CONCATENATED MODULE: ./src/redux/user.js\n\n\n\nconst initialState = {\n  userId: \'\',\n  displayName: \'\'\n};\nconst {\n  actions,\n  reducer\n} = Object(redux_toolkit_esm["b" /* createSlice */])({\n  name: \'user\',\n  initialState,\n  reducers: {\n    setUser(state, {\n      payload: {\n        name,\n        value\n      }\n    }) {\n      return { ...state,\n        [name]: value\n      };\n    },\n\n    clearUser(state) {\n      return { ...state,\n        userId: \'\',\n        displayName: \'\'\n      };\n    }\n\n  }\n});\nfunction sessionLoginCheck() {\n  return async dispatch => {\n    setTimeout(() => {\n      const user = auth.currentUser || loadItem(\'user\');\n\n      if (user) {\n        saveItem(\'user\', user.email);\n        dispatch(actions.setUser({\n          name: \'userId\',\n          value: user.email\n        }));\n      } else {\n        dispatch(actions.clearUser());\n      }\n    }, 1300);\n  };\n}\nconst {\n  setUser,\n  clearUser\n} = actions;\n/* harmony default export */ var redux_user = (reducer);\n// EXTERNAL MODULE: ./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js + 12 modules\nvar emotion_styled_browser_esm = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/layouts/Main.jsx\n\nconst Main = emotion_styled_browser_esm["a" /* default */].div`\n  box-sizing: border-box;\n  background-color: #fff;\n  padding-top: 30px;\n  padding-bottom: 30px;\n  margin: 20px auto;\n  width: 100vw;\n  height: 100vh;\n  \n  @media screen and (min-width: 600px) {\n    width: 600px;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 768px;\n  }\n\n  /* @media screen and (min-width: 1024px) {\n    width: 1024px;\n  } */\n`;\n/* harmony default export */ var layouts_Main = (Main);\n// CONCATENATED MODULE: ./src/layouts/common/Header.jsx\n\nconst HeaderNav = emotion_styled_browser_esm["a" /* default */].nav`\ndisplay: flex;\njustify-content: space-between;\nbackground: #fff;\nalign-items: center;\npadding: 10px;\n`;\nconst HeaderTitle = emotion_styled_browser_esm["a" /* default */].h1`\n  color: #1f2a37;\n  font-size: 2rem;\n  font-weight: 800;\n  font-family: sans-serif;\n  padding-left: 20px;\n  \n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n`;\nconst HeaderUser = emotion_styled_browser_esm["a" /* default */].p`\n  font-size: 1.1rem;\n  font-weight: 700;\n  margin: 10px;\n`;\nconst HeaderButton = emotion_styled_browser_esm["a" /* default */].button`\n  color: #361d74;\n  margin: 10px;\n  padding: 5px 7px;\n  font-size: 1.025rem;\n  font-weight: 600;\n  border-radius: 6px;\n  border-color: #361d74;\n  background: transparent;\n  cursor: pointer;\n  opacity: 0.8;\n  \n  :hover {\n    opacity: 1.0;\n  }\n  @media screen and (max-width: 600px) {\n    display: none;\n  }\n`;\nconst ButtonLines = emotion_styled_browser_esm["a" /* default */].div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\n// CONCATENATED MODULE: ./src/layouts/icons/HeaderIcon.jsx\n\nconst HomeIcon = emotion_styled_browser_esm["a" /* default */].img`\n  width: 25px;\n  height: 25px;\n\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n`;\nconst UserIcon = emotion_styled_browser_esm["a" /* default */].img`\n  width: 25px;\n  height: 25px;\n  margin: 10px;\n  cursor: pointer;\n\n  @media screen and (min-width: 600px) {\n    display: none;\n  }\n`;\n\n// CONCATENATED MODULE: ./src/utils/utils.js\nconst isEmpty = value => {\n  if (!value) {\n    return true;\n  }\n\n  return false;\n};\nconst isNotEmpty = value => {\n  return !isEmpty(value);\n};\nconst isMatch = left => right => {\n  if (left === right) {\n    return true;\n  }\n\n  return false;\n};\nconst isNotMatch = left => right => {\n  return !isMatch(left)(right);\n};\nconst isArray = value => {\n  return Array.isArray(value);\n};\nconst isNotArray = value => {\n  return !isArray(value);\n};\nconst isLessThen = subject => value => {\n  if (subject > value) {\n    return true;\n  }\n\n  return false;\n};\nconst isGreaterThen = subject => value => {\n  if (subject < value) {\n    return true;\n  }\n\n  return false;\n};\nconst changeDateToString = date => {\n  if (isEmpty(date)) {\n    return false;\n  }\n\n  return date.toDate().toISOString();\n};\nconst getFirstSplit = value => keyword => {\n  return value.split(keyword)[0];\n};\nconst formatRecipe = recipe => {\n  const {\n    created,\n    updated\n  } = recipe.data();\n  return { ...recipe.data(),\n    id: recipe.id,\n    created: changeDateToString(created),\n    updated: changeDateToString(updated)\n  };\n};\nconst formatMessage = chat => {\n  const {\n    created\n  } = chat.data();\n  return { ...chat.data(),\n    created: changeDateToString(created)\n  };\n};\nconst RECIPE_COUNT = 12;\n// CONCATENATED MODULE: ./src/components/common/Header.jsx\n\n\n\n\n\n\nconst Header = ({\n  userId,\n  signInWithGoogle,\n  signOut\n}) => {\n  const history = Object(react_router["f" /* useHistory */])();\n\n  const onClickNewRecipe = () => {\n    history.push(\'/recipewrite/0\');\n  };\n\n  const onClickChat = () => {\n    history.push(\'/chat\');\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(HeaderNav, null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* Link */], {\n    to: "/"\n  }, /*#__PURE__*/react_default.a.createElement(HomeIcon, {\n    src: "images/home.svg",\n    alt: "Home"\n  })), /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* Link */], {\n    to: "/"\n  }, /*#__PURE__*/react_default.a.createElement(HeaderTitle, null, "My Baking Recipe"))), userId ? /*#__PURE__*/react_default.a.createElement(ButtonLines, null, /*#__PURE__*/react_default.a.createElement(HeaderUser, null, /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* Link */], {\n    to: "/"\n  }, getFirstSplit(userId)(\'@\'))), /*#__PURE__*/react_default.a.createElement(HeaderButton, {\n    type: "button",\n    onClick: onClickChat\n  }, "Chat"), /*#__PURE__*/react_default.a.createElement(HeaderButton, {\n    type: "button",\n    onClick: onClickNewRecipe\n  }, "New Recipe"), /*#__PURE__*/react_default.a.createElement(HeaderButton, {\n    type: "button",\n    onClick: signOut\n  }, "Logout"), /*#__PURE__*/react_default.a.createElement(UserIcon, {\n    src: "images/chat-bubble-dots.svg",\n    onClick: onClickChat,\n    alt: "Chat"\n  }), /*#__PURE__*/react_default.a.createElement(UserIcon, {\n    src: "images/new-recipe.svg",\n    onClick: onClickNewRecipe,\n    alt: "New Recipe"\n  }), /*#__PURE__*/react_default.a.createElement(UserIcon, {\n    src: "images/close-outline.svg",\n    onClick: signOut,\n    alt: "Logout"\n  })) : /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(HeaderButton, {\n    type: "button",\n    onClick: signInWithGoogle\n  }, "Sign in (Google)"), /*#__PURE__*/react_default.a.createElement(UserIcon, {\n    src: "images/login-google.svg",\n    onClick: signInWithGoogle,\n    alt: "singIn"\n  })));\n};\n\n/* harmony default export */ var common_Header = (/*#__PURE__*/react_default.a.memo(Header));\n// CONCATENATED MODULE: ./src/containers/common/HeaderContainer.jsx\n\n\n\n\n\n\n\n\nconst HeaderContainer = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const {\n    user: {\n      userId\n    }\n  } = Object(es["d" /* useSelector */])(state => ({\n    user: state.user\n  }));\n  const signInWithGoogle = Object(react["useCallback"])(async () => {\n    const {\n      user: {\n        email\n      }\n    } = await auth.signInWithPopup(provider);\n\n    if (isNotEmpty(email)) {\n      saveItem(\'user\', email);\n      dispatch(setUser({\n        name: \'userId\',\n        value: email\n      }));\n    }\n  }, [dispatch]);\n  const signOut = Object(react["useCallback"])(async () => {\n    await auth.signOut();\n    dispatch(clearUser());\n  }, [dispatch]);\n  return /*#__PURE__*/react_default.a.createElement(common_Header, {\n    userId: userId,\n    signInWithGoogle: signInWithGoogle,\n    signOut: signOut\n  });\n};\n\n/* harmony default export */ var common_HeaderContainer = (HeaderContainer);\n// EXTERNAL MODULE: ./node_modules/uuid/index.js\nvar node_modules_uuid = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./src/services/recipes.js\n\n\n\n\nconst timeStamp = dateTime => fireStore.Timestamp.fromDate(new Date(dateTime));\n\nconst fieldValue = fireStore.FieldValue;\nasync function fetchRecipe(id) {\n  const recipesRef = db.collection(\'recipes\');\n  const recipe = recipesRef.doc(id).get();\n  return recipe;\n}\nasync function fetchRecipes(lastRecipe) {\n  const recipesRef = db.collection(\'recipes\');\n\n  if (isEmpty(lastRecipe)) {\n    const snapshot = await recipesRef.orderBy(\'created\', \'desc\').limit(RECIPE_COUNT).get();\n    return snapshot.docs;\n  }\n\n  const snapshot = await recipesRef.orderBy(\'created\', \'desc\').startAfter(timeStamp(lastRecipe.created)).limit(RECIPE_COUNT).get();\n  return snapshot.docs;\n}\nasync function postRecipe(recipe) {\n  const {\n    currentUser: {\n      email\n    }\n  } = auth;\n\n  if (isNotEmpty(email)) {\n    const {\n      id\n    } = await db.collection(\'recipes\').add({ ...recipe,\n      userId: email,\n      created: fieldValue.serverTimestamp(),\n      updated: fieldValue.serverTimestamp(),\n      show: true\n    });\n    return id;\n  }\n\n  return null;\n}\nasync function updateRecipe(recipe) {\n  const {\n    currentUser: {\n      email\n    }\n  } = auth;\n\n  if (isNotEmpty(email)) {\n    const {\n      id,\n      title,\n      category,\n      product,\n      ingredients,\n      description,\n      image\n    } = recipe;\n    await db.collection(\'recipes\').doc(id).update({\n      userId: email,\n      title,\n      category,\n      product,\n      ingredients,\n      description,\n      image,\n      updated: fieldValue.serverTimestamp()\n    });\n  }\n}\nasync function deleteRecipe({\n  id,\n  userId\n}) {\n  const {\n    currentUser: {\n      email\n    }\n  } = auth;\n\n  if (isNotEmpty(email) && isMatch(userId)(email)) {\n    await db.collection(\'recipes\').doc(id).delete();\n  }\n}\nasync function postFile({\n  userId,\n  upload,\n  uuid = Object(node_modules_uuid["v4"])()\n}) {\n  const fileRef = await storage.ref().child(`${getFirstSplit(userId)(\'@\')}/${uuid}`);\n  const response = await fileRef.putString(upload, \'data_url\');\n  const imageURL = response.ref.getDownloadURL();\n  return imageURL;\n}\nasync function deleteFile({\n  image\n}) {\n  await storage.refFromURL(image).delete();\n}\n// CONCATENATED MODULE: ./src/redux/recipes.js\n\n\n\nconst recipes_initialState = {\n  recipesBook: [],\n  lastRecipe: {\n    recipe: null,\n    isLast: false\n  }\n};\nconst {\n  actions: recipes_actions,\n  reducer: recipes_reducer\n} = Object(redux_toolkit_esm["b" /* createSlice */])({\n  name: \'recipes\',\n  initialState: recipes_initialState,\n  reducers: {\n    setRecipes(state, {\n      payload\n    }) {\n      return { ...state,\n        recipesBook: [...payload]\n      };\n    },\n\n    setLastRecipe(state, {\n      payload: {\n        name,\n        value\n      }\n    }) {\n      return { ...state,\n        lastRecipe: { ...state.lastRecipe,\n          [name]: value\n        }\n      };\n    },\n\n    addRecipes(state, {\n      payload\n    }) {\n      return { ...state,\n        recipesBook: [...state.recipesBook, ...payload]\n      };\n    }\n\n  }\n});\nfunction loadRecipes() {\n  return async (dispatch, getState) => {\n    const {\n      recipes: {\n        lastRecipe: {\n          recipe,\n          isLast\n        }\n      }\n    } = getState();\n\n    if (isLast) {\n      return;\n    }\n\n    const response = await fetchRecipes(recipe);\n\n    if (isEmpty(response)) {\n      dispatch(recipes_actions.setRecipes([]));\n      return;\n    }\n\n    const recipes = response.map(doc => formatRecipe(doc));\n    dispatch(recipes_actions.addRecipes(recipes));\n    dispatch(recipes_actions.setLastRecipe({\n      name: \'recipe\',\n      value: recipes[recipes.length - 1]\n    }));\n    dispatch(recipes_actions.setLastRecipe({\n      name: \'isLast\',\n      value: false\n    }));\n\n    if (recipes.length < RECIPE_COUNT) {\n      dispatch(recipes_actions.setLastRecipe({\n        name: \'isLast\',\n        value: true\n      }));\n    }\n  };\n}\nfunction updateRecipes() {\n  return async dispatch => {\n    const response = await fetchRecipes();\n    const recipes = response.map(doc => formatRecipe(doc));\n    dispatch(recipes_actions.setRecipes(recipes));\n    dispatch(recipes_actions.setLastRecipe({\n      name: \'recipe\',\n      value: recipes[recipes.length - 1]\n    }));\n    dispatch(recipes_actions.setLastRecipe({\n      name: \'isLast\',\n      value: false\n    }));\n  };\n}\nconst {\n  setRecipes,\n  setLastRecipe,\n  addRecipes\n} = recipes_actions;\n/* harmony default export */ var redux_recipes = (recipes_reducer);\n// CONCATENATED MODULE: ./src/layouts/Recipes.jsx\n\nconst RecipeCards = emotion_styled_browser_esm["a" /* default */].ul`\n  @media (min-width: 600px) {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0 -1rem;\n  }\n`;\nconst RecipeCard = emotion_styled_browser_esm["a" /* default */].li`\n  margin: 0 1rem;\n  margin-bottom: 3rem;\n  background-color: #f8f8ef;\n  border-radius: 5px;\n\n  :hover {\n  overflow: hidden;\n  box-shadow: 0 5px 10px 0px rgba(0,0,0,0.1);\n  transform: translatey(0px);\n  animation: float 1s ease-in-out infinite;\n  }\n\n  @keyframes float {\n    0% {\n      transform: translatey(0px);\n    }\n    50% {\n      transform: translatey(-2px);\n    }\n    100% {\n      transform: translatey(0px);\n    }\n  }\n\n  @media (min-width: 600px) {\n    width: 44%;\n  }\n\n  @media (min-width: 768px) {\n    width: 29%;\n  }\n\n  /* @media (min-width: 1024px) {\n    width: 30%;\n  } */\n\n  .card-image {\n    height: 0;\n    padding-bottom: 60%;\n    background-color: lightgray;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    border-radius: 5px 5px 0 0;\n\n    img {\n      display: none;\n    }\n  }\n\n  .card-desc {\n    padding: 1rem;\n\n    h1 {\n      font-size: 1.5rem;\n      font-weight: bold;\n      margin-bottom: 1rem;\n    }\n\n    p {\n      margin-bottom: 0.5rem;\n\n      strong {\n        font-weight: bold;\n      }\n    }\n\n    .card-created {\n      font-size: 0.8rem;\n      color: gray; \n    }\n  }\n`;\n\n// CONCATENATED MODULE: ./src/components/recipe/RecipeItem.jsx\n\n\n\n\n\nconst RecipeItem = ({\n  recipe\n}) => {\n  if (isEmpty(recipe)) {\n    return false;\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(RecipeCard, null, /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* Link */], {\n    to: `/recipe/${recipe.id}`\n  }, /*#__PURE__*/react_default.a.createElement("figure", {\n    className: "card-image",\n    style: {\n      backgroundImage: `url(${recipe.image || \'images/cookie.jpeg\'})`\n    }\n  }, /*#__PURE__*/react_default.a.createElement("img", {\n    src: recipe.image || \'images/cookie.jpeg\',\n    alt: "recipe"\n  })), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "card-desc"\n  }, /*#__PURE__*/react_default.a.createElement("h1", null, recipe.title), /*#__PURE__*/react_default.a.createElement("p", null, recipe.description.length > 30 ? `${recipe.description.substring(0, 30)}...` : recipe.description), /*#__PURE__*/react_default.a.createElement("p", {\n    className: "card-created"\n  }, recipe.created.substr(0, 10)), /*#__PURE__*/react_default.a.createElement("p", null, "by", \' \', /*#__PURE__*/react_default.a.createElement("strong", null, getFirstSplit(recipe.userId)(\'@\'))))));\n};\n\n/* harmony default export */ var recipe_RecipeItem = (/*#__PURE__*/react_default.a.memo(RecipeItem));\n// CONCATENATED MODULE: ./src/components/recipe/RecipeList.jsx\n\n\n\n\n\nconst RecipeList = ({\n  recipesBook\n}) => {\n  if (isNotArray(recipesBook)) {\n    return /*#__PURE__*/react_default.a.createElement("div", null, "Empty");\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(RecipeCards, {\n    className: "card-list"\n  }, recipesBook.map(recipe => /*#__PURE__*/react_default.a.createElement(recipe_RecipeItem, {\n    key: recipe.id,\n    recipe: recipe\n  })));\n};\n\n/* harmony default export */ var recipe_RecipeList = (/*#__PURE__*/react_default.a.memo(RecipeList));\n// CONCATENATED MODULE: ./src/layouts/common/Loading.jsx\n\nconst LoadingAnimation = emotion_styled_browser_esm["a" /* default */].div`\n  position: absolute;\n  display: inline-block;\n  width: 75px;\n  height: 75px;\n  border: 10px solid hotpink;\n  border-color: hotpink transparent transparent;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    100% {\n    transform: rotate(360deg);\n    }\n  }\n`;\nconst Modal = emotion_styled_browser_esm["a" /* default */].div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(245, 234, 234, 0.3);\n`;\n\n// CONCATENATED MODULE: ./src/components/common/Loading.jsx\n/* eslint-disable consistent-return */\n\n\n\nconst Loading = () => {\n  return /*#__PURE__*/react_default.a.createElement(Modal, null, /*#__PURE__*/react_default.a.createElement(LoadingAnimation, null));\n};\n\n/* harmony default export */ var common_Loading = (Loading);\n// CONCATENATED MODULE: ./src/containers/recipe/RecipesContainer.jsx\n\n\n\n\n\n\nconst RecipesContainer = () => {\n  const {\n    recipes: {\n      recipesBook\n    }\n  } = Object(es["d" /* useSelector */])(state => ({\n    recipes: state.recipes\n  }));\n\n  if (isEmpty(recipesBook.length)) {\n    return /*#__PURE__*/react_default.a.createElement(common_Loading, null);\n  }\n\n  return /*#__PURE__*/react_default.a.createElement("article", null, /*#__PURE__*/react_default.a.createElement(recipe_RecipeList, {\n    recipesBook: recipesBook\n  }));\n};\n\n/* harmony default export */ var recipe_RecipesContainer = (RecipesContainer);\n// CONCATENATED MODULE: ./src/components/common/InfiniteScroll.jsx\n/* eslint-disable consistent-return */\n\n\n\nconst InfiniteScroll = ({\n  root = null,\n  target,\n  onIntersect,\n  threshold = 1.0,\n  rootMargin = \'50px\'\n}) => {\n  Object(react["useEffect"])(() => {\n    const observer = new IntersectionObserver(onIntersect, {\n      root,\n      rootMargin,\n      threshold\n    });\n\n    if (isEmpty(target)) {\n      return;\n    }\n\n    observer.observe(target);\n    return () => observer.unobserve(target);\n  }, [target, root, rootMargin, onIntersect, threshold]);\n};\n\n/* harmony default export */ var common_InfiniteScroll = (InfiniteScroll);\n// CONCATENATED MODULE: ./src/pages/recipe/RecipesPage.jsx\n\n\n\n\n\n\nconst RecipesPage = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const [target, setTarget] = Object(react["useState"])(null);\n  common_InfiniteScroll({\n    target,\n    onIntersect: ([{\n      isIntersecting\n    }]) => {\n      if (isIntersecting) {\n        dispatch(loadRecipes());\n      }\n    }\n  });\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(recipe_RecipesContainer, null), /*#__PURE__*/react_default.a.createElement("div", {\n    ref: setTarget\n  }));\n};\n\n/* harmony default export */ var recipe_RecipesPage = (RecipesPage);\n// CONCATENATED MODULE: ./src/layouts/Recipe.jsx\n\nconst Label = emotion_styled_browser_esm["a" /* default */].label`\n  display: ${props => props.display};\n  font-size: 1.1rem;\n  font-weight: 700;\n  min-width: 100px;\n  width: ${props => props.width};\n  margin: 0.125rem;\n  padding: 0.5rem;\n`;\nconst DutyLabel = emotion_styled_browser_esm["a" /* default */].label`\n  display: ${props => props.display};\n  font-size: 1.1rem;\n  font-weight: 700;\n  min-width: 100px;\n  width: ${props => props.width};\n  margin: 0.125rem;\n  padding: 0.5rem;\n\n  :before {\n  color: #ed5464;\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-right: 5px;\n  content: \'*\';\n\n  }\n`;\nconst Input = emotion_styled_browser_esm["a" /* default */].input`\n  color: #000;\n  display: ${props => props.display};\n  min-width: 100px;\n  width: ${props => props.width};\n  font-size: 1.1rem;\n  font-weight: 500;\n  border-radius: 0.25rem;\n  border: 1px solid #e5e7eb;\n  background-color: #e4e7eb;\n  height: 24px;\n  margin: 0.5rem;\n  padding: 0.75rem;\n`;\nconst Select = emotion_styled_browser_esm["a" /* default */].select`\n  color: #000;\n  min-width: 100px;\n  width: ${props => props.width};\n  font-size: 1.1rem;\n  font-weight: 500;\n  border-radius: 0.25rem;\n  border: 1px solid #e5e7eb;\n  background-color: #e4e7eb;\n  height: 48px;\n  margin: 0.5rem;\n  padding: 0.75rem;\n`;\nconst Span = emotion_styled_browser_esm["a" /* default */].span`\n  font-size: 1.2rem;\n  font-weight: 700;\n`;\nconst Textarea = emotion_styled_browser_esm["a" /* default */].textarea`\n  color: #000;\n  min-width: 300px;\n  min-height: 200px;\n  width: 70%;\n  font-size: 1.2rem;\n  font-weight: 600;\n  border-radius: 0.25rem;\n  border: 1px solid #e5e7eb;\n  background-color: #e4e7eb;\n  margin: 0.5rem;\n  padding: 0.75rem;\n`;\nconst Button = emotion_styled_browser_esm["a" /* default */].button`\n  color: #361d74;\n  padding: 5px 7px;\n  font-size: 1.025rem;\n  font-weight: 600;\n  background: transparent;\n  border-radius: 6px;\n  border-color: #361d74;\n  cursor: pointer;\n  margin: 10px;\n  transition: 0.5s;\n  opacity: 0.8;\n  \n  :disabled {\n    cursor: not-allowed;\n    opacity: 0.2;\n  }\n\n  :hover:enabled {\n    opacity: 1.0;\n    transition: 0.5s;\n  }\n`;\nconst Hamburger = emotion_styled_browser_esm["a" /* default */].span`\n  margin-left: 8px;\n  margin-bottom: 5px;\n  position: relative;  \n  background: #000;  \n  display: inline-block;\n  width: 26px;\n  height: 4px;\n  border-radius: 4px;\n\n  ::before {\n  position: absolute;\n  background: #000;  \n  top: -10px;\n  width: 26px;\n  height: 4px;\n  border-radius: 4px;\n  content: \'\';\n\n  }\n\n  ::after {\n  background: #000;  \n  position: absolute;\n  top: 10px;\n  width: 26px;\n  height: 4px;\n  border-radius: 4px;\n  content: \'\';\n  }\n`;\nconst Img = emotion_styled_browser_esm["a" /* default */].img`\n  margin: 0.125rem;\n  padding: 0.5rem;\n`;\nconst Notice = emotion_styled_browser_esm["a" /* default */].div`\n  margin-left: 1rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n`;\nconst Title = emotion_styled_browser_esm["a" /* default */].p`\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-left: 1rem;\n  margin-bottom: 0.5rem;\n`;\nconst UserName = emotion_styled_browser_esm["a" /* default */].span`\n  font-size: 1.2rem;\n  font-weight: 700;\n  margin-left: 1.5rem;\n  \n  :before {\n    content: \'by \';\n    font-size: 1rem;\n    font-weight: 500;\n  }\n`;\nconst Recipe_Date = emotion_styled_browser_esm["a" /* default */].span`\n  font-size: 0.9rem;\n  font-weight: 400;\n  margin-left: 1.5rem;\n`;\nconst Line = emotion_styled_browser_esm["a" /* default */].hr`\n  margin-top: 10px;\n  width: 95%;\n  border: none;\n  border-radius: 2px;\n  padding: 2px 0;\n  letter-spacing: 5px;\n  background-color: rgb(245, 174, 69);\n  opacity: 0.8;\n  animation: showline 1s ease-out 1;\n\n  @keyframes showline {\n    0% {\n      width: 0%;\n    }\n    100% {\n      width: 96%;\n    }\n  }\n`;\nconst Center = emotion_styled_browser_esm["a" /* default */].div`\n  text-align: center;\n\n  img {\n    width: 70%;\n    height: 70%;\n    margin-bottom: 20px;\n  }\n`;\n\n// CONCATENATED MODULE: ./src/components/recipe/RecipeTitle.jsx\n\n\n\nconst RecipeTitle = ({\n  title\n}) => {\n  return /*#__PURE__*/react_default.a.createElement(Title, null, title);\n};\n\n/* harmony default export */ var recipe_RecipeTitle = (/*#__PURE__*/react_default.a.memo(RecipeTitle));\n// CONCATENATED MODULE: ./src/components/recipe/RecipeUser.jsx\n\n\n\n\nconst RecipeUser = ({\n  user,\n  created\n}) => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(UserName, null, getFirstSplit(user)(\'@\')), \' \', /*#__PURE__*/react_default.a.createElement(Recipe_Date, null, created.substr(0, 10)), /*#__PURE__*/react_default.a.createElement(Line, null));\n};\n\n/* harmony default export */ var recipe_RecipeUser = (/*#__PURE__*/react_default.a.memo(RecipeUser));\n// CONCATENATED MODULE: ./src/components/recipe/RecipeImage.jsx\n\n\n\nconst RecipeImage = ({\n  image\n}) => {\n  return /*#__PURE__*/react_default.a.createElement("section", null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "displayImage",\n    display: "block"\n  }, "\\uC774\\uBBF8\\uC9C0"), /*#__PURE__*/react_default.a.createElement(Img, {\n    id: "displayImage",\n    src: image || \'images/cookie.jpeg\',\n    width: "200px",\n    height: "200px",\n    alt: "recipe"\n  })));\n};\n\n/* harmony default export */ var recipe_RecipeImage = (/*#__PURE__*/react_default.a.memo(RecipeImage));\n// CONCATENATED MODULE: ./src/components/recipe/RecipeBasicInfo.jsx\n\n\n\n\nconst RecipeBasicInfo = ({\n  title,\n  category,\n  product,\n  onChangeRecipe\n}) => {\n  const categoryEnum = [{\n    value: 0,\n    text: \'선택\'\n  }, {\n    value: 1,\n    text: \'쿠키\'\n  }, {\n    value: 2,\n    text: \'구움과자\'\n  }, {\n    value: 3,\n    text: \'케이크\'\n  }, {\n    value: 4,\n    text: \'빵\'\n  }, {\n    value: 5,\n    text: \'마카롱\'\n  }, {\n    value: 6,\n    text: \'기타\'\n  }];\n  return /*#__PURE__*/react_default.a.createElement("section", null, isEmpty(onChangeRecipe) ? /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "title",\n    display: "block"\n  }, "\\uB808\\uC2DC\\uD53C\\uBA85") : /*#__PURE__*/react_default.a.createElement(DutyLabel, {\n    htmlFor: "title",\n    display: "block"\n  }, "\\uB808\\uC2DC\\uD53C\\uBA85"), /*#__PURE__*/react_default.a.createElement(Input, {\n    type: "text",\n    id: "title",\n    name: "title",\n    value: title,\n    onChange: onChangeRecipe,\n    width: "60%",\n    display: "block",\n    disabled: isEmpty(onChangeRecipe)\n  }), isEmpty(onChangeRecipe) ? /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "category",\n    width: "30%",\n    display: "inline-block"\n  }, "\\uCE74\\uD14C\\uACE0\\uB9AC"), /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "product",\n    width: "20%",\n    display: "inline-block"\n  }, "\\uC0DD\\uC0B0\\uB7C9")) : /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(DutyLabel, {\n    htmlFor: "category",\n    width: "30%",\n    display: "inline-block"\n  }, "\\uCE74\\uD14C\\uACE0\\uB9AC"), /*#__PURE__*/react_default.a.createElement(DutyLabel, {\n    htmlFor: "product",\n    width: "20%",\n    display: "inline-block"\n  }, "\\uC0DD\\uC0B0\\uB7C9")), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Select, {\n    id: "category",\n    name: "category",\n    value: category,\n    onChange: onChangeRecipe,\n    width: "30%",\n    disabled: isEmpty(onChangeRecipe)\n  }, categoryEnum.map(({\n    value,\n    text\n  }) => {\n    return /*#__PURE__*/react_default.a.createElement("option", {\n      key: value,\n      value: value\n    }, text);\n  })), /*#__PURE__*/react_default.a.createElement(Input, {\n    type: "number",\n    min: "0",\n    max: "1000000000",\n    id: "product",\n    name: "product",\n    value: product,\n    onChange: onChangeRecipe,\n    width: "20%",\n    disabled: isEmpty(onChangeRecipe)\n  }), /*#__PURE__*/react_default.a.createElement(Span, null, "\\uAC1C")));\n};\n\n/* harmony default export */ var recipe_RecipeBasicInfo = (/*#__PURE__*/react_default.a.memo(RecipeBasicInfo));\n// CONCATENATED MODULE: ./src/components/recipe/RecipeDescription.jsx\n\n\n\n\nconst RecipeDescription = ({\n  description,\n  onChangeRecipe\n}) => {\n  return /*#__PURE__*/react_default.a.createElement("section", null, isEmpty(onChangeRecipe) ? /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "description",\n    display: "block"\n  }, "\\uB9CC\\uB4DC\\uB294 \\uBC29\\uBC95") : /*#__PURE__*/react_default.a.createElement(DutyLabel, {\n    htmlFor: "description",\n    display: "block"\n  }, "\\uB9CC\\uB4DC\\uB294 \\uBC29\\uBC95"), /*#__PURE__*/react_default.a.createElement(Textarea, {\n    id: "description",\n    name: "description",\n    value: description,\n    onChange: onChangeRecipe,\n    disabled: isEmpty(onChangeRecipe)\n  }));\n};\n\n/* harmony default export */ var recipe_RecipeDescription = (/*#__PURE__*/react_default.a.memo(RecipeDescription));\n// EXTERNAL MODULE: ./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js\nvar react_beautiful_dnd_esm = __webpack_require__(74);\n\n// CONCATENATED MODULE: ./src/components/recipe/IngredientItem.jsx\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\nconst IngredientItem = ({\n  id,\n  ingredient,\n  weight,\n  onChangeIngredient,\n  onRemoveIngredient,\n  provided\n}) => {\n  if (isEmpty(id)) {\n    return false;\n  }\n\n  if (isEmpty(provided)) {\n    return /*#__PURE__*/react_default.a.createElement("li", null, /*#__PURE__*/react_default.a.createElement(Input, {\n      type: "text",\n      id: `ingredient-${id}`,\n      name: `ingredient-${id}`,\n      value: ingredient,\n      width: "30%",\n      disabled: true\n    }), /*#__PURE__*/react_default.a.createElement(Input, {\n      type: "number",\n      min: "0",\n      max: "1000000000",\n      id: `weight-${id}`,\n      name: `weight-${id}`,\n      value: weight,\n      onChange: onChangeIngredient,\n      width: "20%",\n      disabled: true\n    }), /*#__PURE__*/react_default.a.createElement(Span, null, "g"));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement("li", _extends({\n    ref: provided.innerRef\n  }, provided.dragHandleProps, provided.draggableProps), /*#__PURE__*/react_default.a.createElement(Hamburger, null), /*#__PURE__*/react_default.a.createElement(Input, {\n    type: "text",\n    id: `ingredient-${id}`,\n    name: `ingredient-${id}`,\n    value: ingredient,\n    onChange: onChangeIngredient,\n    width: "24%"\n  }), /*#__PURE__*/react_default.a.createElement(Input, {\n    type: "number",\n    min: "0",\n    max: "1000000000",\n    id: `weight-${id}`,\n    name: `weight-${id}`,\n    value: weight,\n    onChange: onChangeIngredient,\n    width: "13%"\n  }), /*#__PURE__*/react_default.a.createElement(Span, null, "g"), /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onRemoveIngredient,\n    value: id\n  }, "\\uC0AD\\uC81C"));\n};\n\n/* harmony default export */ var recipe_IngredientItem = (/*#__PURE__*/react_default.a.memo(IngredientItem));\n// CONCATENATED MODULE: ./src/components/recipe/IngredientList.jsx\nfunction IngredientList_extends() { IngredientList_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return IngredientList_extends.apply(this, arguments); }\n\n\n\n\n\n\n\nconst IngredientList = ({\n  ingredients,\n  onChangeIngredient,\n  onRemoveIngredient,\n  onDragEndIngredient\n}) => {\n  if (isEmpty(onDragEndIngredient)) {\n    return /*#__PURE__*/react_default.a.createElement("section", null, /*#__PURE__*/react_default.a.createElement("ul", null, /*#__PURE__*/react_default.a.createElement("li", null, /*#__PURE__*/react_default.a.createElement(Label, {\n      width: "32%",\n      display: "inline-block"\n    }, "\\uC6D0\\uC7AC\\uB8CC"), /*#__PURE__*/react_default.a.createElement(Label, {\n      width: "20%",\n      display: "inline-block"\n    }, "\\uC6A9\\uB7C9")), ingredients.map(({\n      id,\n      ingredient,\n      weight\n    }) => {\n      return /*#__PURE__*/react_default.a.createElement(recipe_IngredientItem, {\n        key: id,\n        id: id,\n        ingredient: ingredient,\n        weight: weight,\n        onChangeIngredient: onChangeIngredient,\n        onRemoveIngredient: onRemoveIngredient\n      });\n    })));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement("section", null, /*#__PURE__*/react_default.a.createElement(react_beautiful_dnd_esm["a" /* DragDropContext */], {\n    onDragEnd: onDragEndIngredient\n  }, /*#__PURE__*/react_default.a.createElement(react_beautiful_dnd_esm["c" /* Droppable */], {\n    droppableId: "ingredients"\n  }, droppableProvided => /*#__PURE__*/react_default.a.createElement("ul", IngredientList_extends({\n    className: "ingredients"\n  }, droppableProvided.droppableProps, {\n    ref: droppableProvided.innerRef\n  }), ingredients.map(({\n    id,\n    ingredient,\n    weight\n  }, index) => {\n    return /*#__PURE__*/react_default.a.createElement(react_beautiful_dnd_esm["b" /* Draggable */], {\n      key: id.toString(),\n      draggableId: id.toString(),\n      index: index\n    }, draggableProvided => /*#__PURE__*/react_default.a.createElement(recipe_IngredientItem, {\n      key: id,\n      id: id,\n      ingredient: ingredient,\n      weight: weight,\n      onChangeIngredient: onChangeIngredient,\n      onRemoveIngredient: onRemoveIngredient,\n      provided: draggableProvided\n    }));\n  }), droppableProvided.placeholder))));\n};\n\n/* harmony default export */ var recipe_IngredientList = (/*#__PURE__*/react_default.a.memo(IngredientList));\n// CONCATENATED MODULE: ./src/redux/recipe.js\n\n\n\nconst recipe_initialState = {\n  id: 0,\n  userId: \'\',\n  title: \'\',\n  category: 0,\n  product: 0,\n  ingredients: [],\n  newIngredient: {\n    id: 0,\n    ingredient: \'\',\n    weight: 0\n  },\n  description: \'\',\n  upload: null,\n  image: null\n};\nconst {\n  actions: recipe_actions,\n  reducer: recipe_reducer\n} = Object(redux_toolkit_esm["b" /* createSlice */])({\n  name: \'recipe\',\n  initialState: recipe_initialState,\n  reducers: {\n    setRecipe(state, {\n      payload\n    }) {\n      return { ...state,\n        ...payload,\n        newIngredient: {\n          id: payload.ingredients.length + 1,\n          ingredient: \'\',\n          weight: 0\n        }\n      };\n    },\n\n    setNewIngredient(state, {\n      payload: {\n        fields\n      }\n    }) {\n      return { ...state,\n        ingredients: [fields, ...state.ingredients],\n        newIngredient: {\n          id: 0,\n          ingredient: \'\',\n          weight: 0\n        }\n      };\n    },\n\n    changeRecipe(state, {\n      payload: {\n        name,\n        value\n      }\n    }) {\n      if (isMatch(name)(\'product\')) {\n        return { ...state,\n          [name]: parseInt(value, 10)\n        };\n      }\n\n      return { ...state,\n        [name]: value\n      };\n    },\n\n    changeIngredient(state, {\n      payload: {\n        name,\n        value\n      }\n    }) {\n      const [targetName, targetId] = name.split(\'-\');\n\n      if (isMatch(targetName)(\'weight\')) {\n        return { ...state,\n          ingredients: state.ingredients.map(ingredient => {\n            return parseInt(ingredient.id, 10) === parseInt(targetId, 10) ? { ...ingredient,\n              [targetName]: parseInt(value, 10)\n            } : ingredient;\n          })\n        };\n      }\n\n      return { ...state,\n        ingredients: state.ingredients.map(ingredient => {\n          return parseInt(ingredient.id, 10) === parseInt(targetId, 10) ? { ...ingredient,\n            [targetName]: value\n          } : ingredient;\n        })\n      };\n    },\n\n    changeNewIngredient(state, {\n      payload: {\n        name,\n        value\n      }\n    }) {\n      const [targetName, targetId] = name.split(\'-\');\n\n      if (isMatch(targetName)(\'weight\')) {\n        return { ...state,\n          newIngredient: { ...state.newIngredient,\n            id: parseInt(targetId, 10),\n            [targetName]: parseInt(value, 10)\n          }\n        };\n      }\n\n      return { ...state,\n        newIngredient: { ...state.newIngredient,\n          id: parseInt(targetId, 10),\n          [targetName]: value\n        }\n      };\n    },\n\n    clearRecipe(state) {\n      return { ...state,\n        ...recipe_initialState\n      };\n    },\n\n    removeIngredient(state, {\n      payload: {\n        value\n      }\n    }) {\n      const length = state.ingredients.length - 1;\n      return { ...state,\n        ingredients: state.ingredients.filter(ingredient => {\n          return parseInt(ingredient.id, 10) !== parseInt(value, 10);\n        }).map((obj, index) => {\n          return {\n            id: length - index,\n            ingredient: obj.ingredient,\n            weight: obj.weight\n          };\n        }),\n        newIngredient: { ...state.newIngredient,\n          id: parseInt(length + 1, 10)\n        }\n      };\n    },\n\n    swapIngredients(state, {\n      payload: {\n        originIndex,\n        destinationIndex\n      }\n    }) {\n      const ingredients = [...state.ingredients];\n      const originIngredient = ingredients[originIndex];\n      ingredients.splice(originIndex, 1);\n      ingredients.splice(destinationIndex, 0, originIngredient);\n      const {\n        length\n      } = ingredients;\n      return { ...state,\n        ingredients: ingredients.map((obj, index) => {\n          return { ...obj,\n            id: length - index\n          };\n        })\n      };\n    }\n\n  }\n});\nfunction loadRecipe(id) {\n  return async dispatch => {\n    const recipe = await fetchRecipe(id);\n\n    if (!recipe.exists) {\n      dispatch(recipe_actions.setRecipe(recipe_initialState));\n      return;\n    }\n\n    dispatch(recipe_actions.setRecipe(formatRecipe(recipe)));\n  };\n}\nfunction writeRecipe() {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        userId\n      },\n      recipe: {\n        id,\n        title,\n        category,\n        product,\n        ingredients,\n        description,\n        upload,\n        image\n      }\n    } = getState();\n\n    if (isEmpty(userId)) {\n      return;\n    } // Validation Check\n\n\n    if (isEmpty(title.trim()) || isEmpty(category) || isEmpty(product) || isEmpty(description.trim())) {\n      return;\n    } // Image upload Check\n\n\n    let imageURL = \'\'; // Replace Image\n\n    if (isNotEmpty(upload) && isNotEmpty(image)) {\n      await deleteFile({\n        image\n      });\n      imageURL = await postFile({\n        userId,\n        upload\n      });\n    } // Create Image\n\n\n    if (isNotEmpty(upload) && isEmpty(image)) {\n      imageURL = await postFile({\n        userId,\n        upload\n      });\n    } // Create\n\n\n    if (isEmpty(id)) {\n      const recipeInfo = {\n        userId,\n        title,\n        category,\n        product,\n        ingredients,\n        description,\n        image: imageURL || image\n      };\n      const createId = await postRecipe(recipeInfo);\n      await dispatch(loadRecipe(createId));\n      return;\n    } // Update\n\n\n    const recipeInfo = {\n      id,\n      title,\n      category,\n      product,\n      ingredients,\n      description,\n      image: imageURL || image\n    };\n    await updateRecipe(recipeInfo);\n    await dispatch(loadRecipe(id));\n  };\n}\nfunction removeRecipe() {\n  return async (dispatch, getState) => {\n    const {\n      recipe\n    } = getState();\n    const {\n      id,\n      userId\n    } = recipe;\n    await deleteRecipe({\n      id,\n      userId\n    });\n    dispatch(recipe_actions.clearRecipe());\n  };\n}\nfunction removeFile() {\n  return async (dispatch, getState) => {\n    const {\n      recipe: {\n        image\n      }\n    } = getState();\n\n    if (isEmpty(image)) {\n      return;\n    }\n\n    await deleteFile({\n      image\n    });\n    dispatch(recipe_actions.changeRecipe({\n      name: \'image\',\n      value: null\n    }));\n  };\n}\nconst {\n  setRecipe,\n  setNewIngredient,\n  changeRecipe,\n  changeIngredient,\n  changeNewIngredient,\n  clearRecipe,\n  removeIngredient,\n  swapIngredients\n} = recipe_actions;\n/* harmony default export */ var redux_recipe = (recipe_reducer);\n// CONCATENATED MODULE: ./src/containers/recipe/RecipeContainer.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst RecipeContainer = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const history = Object(react_router["f" /* useHistory */])();\n  const [loading, setLoading] = Object(react["useState"])(false);\n  const {\n    user,\n    recipe: {\n      id,\n      userId,\n      title,\n      category,\n      product,\n      ingredients,\n      description,\n      image,\n      created\n    }\n  } = Object(es["d" /* useSelector */])(state => ({\n    user: state.user,\n    recipe: state.recipe\n  }));\n  const onRemove = Object(react["useCallback"])(async () => {\n    const ensure = window.confirm(\'레시피를 삭제하시겠습니까?\');\n\n    if (isEmpty(ensure)) {\n      return;\n    }\n\n    setLoading(true);\n    await dispatch(removeFile());\n    await dispatch(removeRecipe());\n    await dispatch(updateRecipes());\n    history.push(\'/\');\n  }, [dispatch]);\n\n  if (isEmpty(id)) {\n    return /*#__PURE__*/react_default.a.createElement(common_Loading, null);\n  }\n\n  return /*#__PURE__*/react_default.a.createElement("article", null, /*#__PURE__*/react_default.a.createElement(recipe_RecipeTitle, {\n    title: title\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeUser, {\n    user: userId,\n    created: created\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeImage, {\n    image: image\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeBasicInfo, {\n    title: title,\n    category: category,\n    product: product\n  }), /*#__PURE__*/react_default.a.createElement(recipe_IngredientList, {\n    ingredients: ingredients\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeDescription, {\n    description: description\n  }), isNotEmpty(userId) && isMatch(userId)(user.userId) && /*#__PURE__*/react_default.a.createElement("section", null, /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* Link */], {\n    to: `/recipewrite/${id}`\n  }, /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button"\n  }, "\\uC218\\uC815\\uD558\\uAE30")), /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onRemove,\n    disabled: loading\n  }, "\\uC0AD\\uC81C\\uD558\\uAE30")), loading && /*#__PURE__*/react_default.a.createElement(common_Loading, null));\n};\n\n/* harmony default export */ var recipe_RecipeContainer = (RecipeContainer);\n// CONCATENATED MODULE: ./src/pages/recipe/RecipePage.jsx\n\n\n\n\n\n\nconst RecipePage = ({\n  params\n}) => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const {\n    id\n  } = params || Object(react_router["g" /* useParams */])();\n  Object(react["useEffect"])(() => {\n    dispatch(clearRecipe());\n    dispatch(loadRecipe(id));\n  }, [id]);\n  return /*#__PURE__*/react_default.a.createElement(recipe_RecipeContainer, null);\n};\n\n/* harmony default export */ var recipe_RecipePage = (RecipePage);\n// CONCATENATED MODULE: ./src/components/recipe/RecipeImageUpload.jsx\n\n\n\n\nconst RecipeImageUpload = ({\n  upload,\n  image,\n  fileInputRef,\n  onFileChange,\n  onClearFile,\n  onRemoveFile\n}) => {\n  return /*#__PURE__*/react_default.a.createElement("section", null, isNotEmpty(image) && /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "displayImage",\n    display: "block"\n  }, "\\uC774\\uBBF8\\uC9C0"), /*#__PURE__*/react_default.a.createElement(Img, {\n    id: "displayImage",\n    src: image,\n    width: "200px",\n    height: "200px",\n    alt: "displayImage"\n  }), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onRemoveFile\n  }, "\\uC774\\uBBF8\\uC9C0 \\uC0AD\\uC81C\\uD558\\uAE30"))), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Label, {\n    htmlFor: "image",\n    display: "block"\n  }, "\\uB808\\uC2DC\\uD53C \\uC774\\uBBF8\\uC9C0"), /*#__PURE__*/react_default.a.createElement(Input, {\n    id: "image",\n    type: "file",\n    accept: "image/gif, image/jpeg, image/jpg, image/png",\n    onChange: onFileChange,\n    ref: fileInputRef\n  }), /*#__PURE__*/react_default.a.createElement(Notice, null, "3MB \\uC774\\uD558 \\uC774\\uBBF8\\uC9C0(jpg, jpeg, png, gif)\\uB9CC \\uC5C5\\uB85C\\uB4DC \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4."), isNotEmpty(upload) && /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Img, {\n    src: upload,\n    width: "200px",\n    height: "200px",\n    alt: "preview"\n  })), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onClearFile\n  }, "\\uC774\\uBBF8\\uC9C0 \\uBE44\\uC6B0\\uAE30")))));\n};\n\n/* harmony default export */ var recipe_RecipeImageUpload = (/*#__PURE__*/react_default.a.memo(RecipeImageUpload));\n// CONCATENATED MODULE: ./src/components/recipe/IngredientAdd.jsx\n\n\n\n\nconst IngredientAdd = ({\n  newId,\n  newIngredient,\n  NewIngredientRef,\n  onChangeNewIngredient,\n  onKeyUpSetNewIngredient,\n  onClickSetNewIngredient\n}) => {\n  return /*#__PURE__*/react_default.a.createElement("section", null, /*#__PURE__*/react_default.a.createElement("ul", null, /*#__PURE__*/react_default.a.createElement("li", null, /*#__PURE__*/react_default.a.createElement(Label, {\n    width: "32%",\n    display: "inline-block",\n    htmlFor: `ingredient-${newId}`\n  }, "\\uC6D0\\uC7AC\\uB8CC"), /*#__PURE__*/react_default.a.createElement(Label, {\n    width: "20%",\n    display: "inline-block",\n    htmlFor: `weight-${newId}`\n  }, "\\uC6A9\\uB7C9")), /*#__PURE__*/react_default.a.createElement("li", null, /*#__PURE__*/react_default.a.createElement(Input, {\n    type: "text",\n    id: `ingredient-${newId}`,\n    name: `ingredient-${newId}`,\n    value: newIngredient.ingredient,\n    onChange: onChangeNewIngredient,\n    onKeyUp: onKeyUpSetNewIngredient,\n    width: "30%",\n    ref: NewIngredientRef\n  }), /*#__PURE__*/react_default.a.createElement(Input, {\n    type: "number",\n    min: "0",\n    max: "1000000000",\n    id: `weight-${newId}`,\n    name: `weight-${newId}`,\n    value: newIngredient.weight,\n    onChange: onChangeNewIngredient,\n    onKeyUp: onKeyUpSetNewIngredient,\n    width: "20%"\n  }), /*#__PURE__*/react_default.a.createElement(Span, null, "g"), /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onClickSetNewIngredient,\n    disabled: isEmpty(newIngredient.ingredient) || isEmpty(newIngredient.weight)\n  }, "\\uCD94\\uAC00\\uD558\\uAE30"))));\n};\n\n/* harmony default export */ var recipe_IngredientAdd = (/*#__PURE__*/react_default.a.memo(IngredientAdd));\n// CONCATENATED MODULE: ./src/components/recipe/RecipeNotFound.jsx\n\n\n\nconst RecipeNotFound = () => {\n  return /*#__PURE__*/react_default.a.createElement(Center, null, /*#__PURE__*/react_default.a.createElement(Img, {\n    id: "displayImage",\n    src: "images/page_not_found.svg",\n    alt: "recipe"\n  }), /*#__PURE__*/react_default.a.createElement(Title, null, "\\uD574\\uB2F9 \\uD398\\uC774\\uC9C0\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4."));\n};\n\n/* harmony default export */ var recipe_RecipeNotFound = (RecipeNotFound);\n// CONCATENATED MODULE: ./src/containers/recipe/RecipeWriteContainer.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst RecipeWriteContainer = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const history = Object(react_router["f" /* useHistory */])();\n  const [loading, setLoading] = Object(react["useState"])(false);\n  const fileInputRef = Object(react["useRef"])();\n  const NewIngredientRef = Object(react["useRef"])();\n  const {\n    user,\n    recipe: {\n      id,\n      userId,\n      title,\n      category,\n      product,\n      ingredients,\n      newIngredient,\n      description,\n      upload,\n      image\n    }\n  } = Object(es["d" /* useSelector */])(state => ({\n    user: state.user,\n    recipe: state.recipe\n  }));\n  const onChangeRecipe = Object(react["useCallback"])(event => {\n    const {\n      name,\n      value\n    } = event.target;\n    dispatch(changeRecipe({\n      name,\n      value\n    }));\n  }, [dispatch]);\n  const onChangeIngredient = Object(react["useCallback"])(event => {\n    const {\n      name,\n      value\n    } = event.target;\n    dispatch(changeIngredient({\n      name,\n      value\n    }));\n  }, [dispatch]);\n  const onChangeNewIngredient = Object(react["useCallback"])(event => {\n    const {\n      name,\n      value\n    } = event.target;\n    dispatch(changeNewIngredient({\n      name,\n      value\n    }));\n  }, [dispatch]);\n  const onRemoveIngredient = Object(react["useCallback"])(event => {\n    const {\n      value\n    } = event.target;\n    dispatch(removeIngredient({\n      value\n    }));\n  }, [dispatch]);\n  const onKeyUpSetNewIngredient = Object(react["useCallback"])(event => {\n    if (isEmpty(newIngredient.ingredient)) {\n      return;\n    }\n\n    if (isEmpty(newIngredient.weight)) {\n      return;\n    }\n\n    if (isMatch(event.key)(\'Enter\')) {\n      dispatch(setNewIngredient({\n        fields: newIngredient\n      }));\n      NewIngredientRef.current.focus();\n    }\n  }, [dispatch, newIngredient]);\n  const onClickSetNewIngredient = Object(react["useCallback"])(() => {\n    dispatch(setNewIngredient({\n      fields: newIngredient\n    }));\n    NewIngredientRef.current.focus();\n  }, [dispatch, newIngredient]);\n  const onDragEndIngredient = Object(react["useCallback"])(result => {\n    const originIndex = result.source.index || 0;\n    const destinationIndex = result.destination.index || 0;\n    dispatch(swapIngredients({\n      originIndex,\n      destinationIndex\n    }));\n  }, [dispatch]);\n  const onSubmit = Object(react["useCallback"])(async () => {\n    if (isEmpty(title.trim())) {\n      alert(\'제목을 입력해주세요.\');\n      return;\n    }\n\n    if (isEmpty(category)) {\n      alert(\'카테고리를 입력해주세요.\');\n      return;\n    }\n\n    if (isEmpty(product)) {\n      alert(\'생산량을 입력해주세요.\');\n      return;\n    }\n\n    if (isEmpty(description.trim())) {\n      alert(\'만드는 방법을 입력해주세요.\');\n      return;\n    }\n\n    setLoading(true);\n    await dispatch(writeRecipe());\n    await dispatch(updateRecipes());\n\n    if (isEmpty(id)) {\n      history.push(\'/\');\n      return;\n    }\n\n    history.push(`/recipe/${id}`);\n  }, [dispatch, title, category, product, description, id]);\n  const onRemove = Object(react["useCallback"])(async () => {\n    const ensure = window.confirm(\'레시피를 삭제하시겠습니까?\');\n\n    if (isEmpty(ensure)) {\n      return;\n    }\n\n    setLoading(true);\n    await dispatch(removeFile());\n    await dispatch(removeRecipe());\n    await dispatch(updateRecipes());\n    history.push(\'/\');\n  }, [dispatch]);\n  const onFileChange = Object(react["useCallback"])(event => {\n    const {\n      target: {\n        files\n      }\n    } = event;\n    const theFile = files[0];\n    const limit3MB = 3 * 1024 * 1024;\n\n    if (isEmpty(theFile) || theFile.size > limit3MB) {\n      alert(\'3MB 이하의 이미지만 업로드 가능합니다.\');\n      fileInputRef.current.value = \'\';\n      return;\n    }\n\n    const reader = new FileReader();\n\n    reader.onloadend = finishedEvent => {\n      const {\n        currentTarget: {\n          result\n        }\n      } = finishedEvent;\n      dispatch(changeRecipe({\n        name: \'upload\',\n        value: result\n      }));\n    };\n\n    reader.readAsDataURL(theFile);\n  }, [dispatch]);\n  const onClearFile = Object(react["useCallback"])(() => {\n    dispatch(changeRecipe({\n      name: \'upload\',\n      value: null\n    }));\n    fileInputRef.current.value = \'\';\n  }, [dispatch]);\n  const onRemoveFile = Object(react["useCallback"])(async () => {\n    setLoading(true);\n    await dispatch(removeFile());\n    await dispatch(writeRecipe());\n    await dispatch(updateRecipes());\n    setLoading(false);\n    fileInputRef.current.value = \'\';\n  }, [dispatch]);\n  const isNotWriteAdd = Object(react["useCallback"])(userUserId => recipeId => recipeUserId => {\n    if (isNotEmpty(userUserId) && isEmpty(recipeId) && isEmpty(recipeUserId)) {\n      return false;\n    }\n\n    return true;\n  }, []);\n  const isNotWriteUpdate = Object(react["useCallback"])(userUserId => recipeId => recipeUserId => {\n    if (isNotEmpty(userUserId) && isNotEmpty(recipeId) && isMatch(userUserId)(recipeUserId)) {\n      return false;\n    }\n\n    return true;\n  }, []);\n\n  if (isNotWriteAdd(user.userId)(id)(userId) && isNotWriteUpdate(user.userId)(id)(userId)) {\n    return /*#__PURE__*/react_default.a.createElement(recipe_RecipeNotFound, null);\n  }\n\n  return /*#__PURE__*/react_default.a.createElement("article", null, /*#__PURE__*/react_default.a.createElement(recipe_RecipeTitle, {\n    title: isEmpty(userId) ? \'레시피 제작\' : `${title} 편집`\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeBasicInfo, {\n    title: title,\n    category: category,\n    product: product,\n    onChangeRecipe: onChangeRecipe\n  }), /*#__PURE__*/react_default.a.createElement(recipe_IngredientAdd, {\n    newId: ingredients.length + 1,\n    newIngredient: newIngredient,\n    NewIngredientRef: NewIngredientRef,\n    onChangeNewIngredient: onChangeNewIngredient,\n    onKeyUpSetNewIngredient: onKeyUpSetNewIngredient,\n    onClickSetNewIngredient: onClickSetNewIngredient\n  }), /*#__PURE__*/react_default.a.createElement(recipe_IngredientList, {\n    ingredients: ingredients,\n    onChangeIngredient: onChangeIngredient,\n    onRemoveIngredient: onRemoveIngredient,\n    onDragEndIngredient: onDragEndIngredient\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeDescription, {\n    description: description,\n    onChangeRecipe: onChangeRecipe\n  }), /*#__PURE__*/react_default.a.createElement(recipe_RecipeImageUpload, {\n    upload: upload,\n    image: image,\n    fileInputRef: fileInputRef,\n    onFileChange: onFileChange,\n    onClearFile: onClearFile,\n    onRemoveFile: onRemoveFile\n  }), /*#__PURE__*/react_default.a.createElement("section", null, /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onSubmit,\n    disabled: loading || isEmpty(title.trim()) || isEmpty(category) || isEmpty(product) || isEmpty(description.trim())\n  }, isEmpty(userId) ? \'저장하기\' : \'수정완료\'), isNotEmpty(userId) && /*#__PURE__*/react_default.a.createElement(Button, {\n    type: "button",\n    onClick: onRemove,\n    disabled: loading\n  }, "\\uC0AD\\uC81C\\uD558\\uAE30")), loading && /*#__PURE__*/react_default.a.createElement(common_Loading, null));\n};\n\n/* harmony default export */ var recipe_RecipeWriteContainer = (RecipeWriteContainer);\n// CONCATENATED MODULE: ./src/pages/recipe/RecipeWritePage.jsx\n\n\n\n\n\n\nconst RecipeWritePage = ({\n  params\n}) => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const {\n    id\n  } = params || Object(react_router["g" /* useParams */])();\n  Object(react["useEffect"])(() => {\n    dispatch(clearRecipe());\n    dispatch(loadRecipe(id));\n  }, [id]);\n  return /*#__PURE__*/react_default.a.createElement(recipe_RecipeWriteContainer, null);\n};\n\n/* harmony default export */ var recipe_RecipeWritePage = (RecipeWritePage);\n// CONCATENATED MODULE: ./src/pages/Recipe404Page.jsx\n\n\n\nconst Recipe404Page = () => {\n  return /*#__PURE__*/react_default.a.createElement(recipe_RecipeNotFound, null);\n};\n\n/* harmony default export */ var pages_Recipe404Page = (Recipe404Page);\n// CONCATENATED MODULE: ./src/layouts/chat/Chat.jsx\n\nconst ChatBox = emotion_styled_browser_esm["a" /* default */].article`\n  margin: 0 auto;\n  /* text-align: center; */\n  max-width: 600px;\n  min-height: 80vh;\n  max-height: 100vh;\n`;\nconst ChatMessageItems = emotion_styled_browser_esm["a" /* default */].ul`\n  min-height: 70vh;\n  max-height: 90vh;\n  overflow: scroll;\n  padding: 20px 20px 10px 20px;\n  border-radius: 5px;\n  background-color: #f8f8ef;\n\n  .continueMessage {\n    margin-top: -9px;\n  }\n`;\nconst ChatMessageItem = emotion_styled_browser_esm["a" /* default */].li`\n  text-align: left;\n  align-items: center;\n  margin-bottom: 10px;\n  flex-direction: row;\n\n  div {\n    display:inline-flex;\n  }\n\n  div > div {\n    display: block;\n  }\n\n  div > img {\n    display: block;\n    width: 40px;\n    height: 40px;\n    margin: 2px 5px;\n    border-radius: 50%;\n  }\n\n  .hidden {\n    width: 50px;\n  }\n\n  div > span {\n    font-size: 1.1rem;\n    font-weight: 700;\n  }\n\n  div > p {\n    font-size: 1rem;\n    font-weight: 400;\n    border-radius: 25px 25px 25px 0px;\n    padding: 10px 15px 10px 15px;\n    color: black;\n    background: #e5e5ea;\n  }\n`;\nconst MyChatMessageItem = emotion_styled_browser_esm["a" /* default */].li`\n  text-align: right;\n  align-items: center;\n  margin-bottom: 10px;\n  flex-direction: row-reverse;\n\n  div {\n    display:inline-flex;\n  }\n\n  div > div {\n    display: block;\n  }\n\n  div > img {\n    width: 40px;\n    height: 40px;\n    margin: 2px 5px;\n    border-radius: 50%;\n  }\n\n  .hidden {\n    width: 50px;\n  }\n\n  div > span {\n    font-size: 1.1rem;\n    font-weight: 700;\n  }\n\n  div > p {\n    font-size: 1rem;\n    font-weight: 400;\n    border-radius: 25px 25px 0px 25px;\n    padding: 10px 15px 10px 15px;\n    color: white;\n    background: #0994f6;\n  }\n`;\nconst MessageBox = emotion_styled_browser_esm["a" /* default */].div`\n  display: flex;\n  text-align: center;\n`;\nconst MessageInput = emotion_styled_browser_esm["a" /* default */].input`\n  font-size: 1.1rem;\n  font-weight: 500;\n  border-radius: 0.25rem;\n  border: 1px solid #e5e7eb;\n  background-color: #e4e7eb;\n  width: 80%;\n  height: 24px;\n  padding: 1rem;\n`;\nconst SendButton = emotion_styled_browser_esm["a" /* default */].button`\n  font-size: 1.2rem;\n  font-weight: 500;\n  border-radius: 0.25rem;\n  width: 20%;\n  height: 60px;\n  padding: 1rem;\n  cursor: pointer;\n  transition: 0.5s;\n  opacity: 0.8;\n  \n  :disabled {\n    cursor: not-allowed;\n    opacity: 0.2;\n  }\n\n  :hover:enabled {\n    opacity: 1.0;\n    transition: 0.5s;\n  }\n`;\n\n// CONCATENATED MODULE: ./src/components/chat/ChatMessage.jsx\n\n\n\n\nconst ChatMessage = ({\n  chat,\n  owner,\n  preUser\n}) => {\n  if (isMatch(chat.user)(owner) && isNotMatch(chat.user)(preUser)) {\n    return /*#__PURE__*/react_default.a.createElement(MyChatMessageItem, null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("span", null, chat.user), /*#__PURE__*/react_default.a.createElement("p", null, chat.message)), /*#__PURE__*/react_default.a.createElement("img", {\n      src: "images/user-solid-circle.svg",\n      alt: "User"\n    })));\n  }\n\n  if (isMatch(chat.user)(owner) && isMatch(chat.user)(preUser)) {\n    return /*#__PURE__*/react_default.a.createElement(MyChatMessageItem, {\n      className: "continueMessage"\n    }, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("p", null, chat.message)), /*#__PURE__*/react_default.a.createElement("span", {\n      className: "hidden"\n    })));\n  }\n\n  if (isNotMatch(chat.user)(owner) && isMatch(chat.user)(preUser)) {\n    return /*#__PURE__*/react_default.a.createElement(ChatMessageItem, {\n      className: "continueMessage"\n    }, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("span", {\n      className: "hidden"\n    }), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("p", null, chat.message))));\n  } // XXX LAST CASE: isNotMatch(chat.user)(owner) && isNotMatch(chat.user)(preUser)\n\n\n  return /*#__PURE__*/react_default.a.createElement(ChatMessageItem, null, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("img", {\n    src: "images/user-solid-circle.svg",\n    alt: "User"\n  }), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("span", null, chat.user), /*#__PURE__*/react_default.a.createElement("p", null, chat.message))));\n};\n\n/* harmony default export */ var chat_ChatMessage = (/*#__PURE__*/react_default.a.memo(ChatMessage));\n// CONCATENATED MODULE: ./src/components/chat/ChatMessageList.jsx\n\n\n\n\n\nconst ChatMessageList = ({\n  chatList,\n  owner,\n  lastChat\n}) => {\n  if (isNotArray(chatList)) {\n    return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n  }\n\n  Object(react["useEffect"])(() => {\n    lastChat.current.scrollIntoView({\n      behavior: \'smooth\'\n    });\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(ChatMessageItems, null, isNotEmpty(chatList.length) && chatList.map((chat, index) => {\n    const preUser = index ? chatList[index - 1].user : \'\';\n    return /*#__PURE__*/react_default.a.createElement(chat_ChatMessage, {\n      key: chat.created,\n      chat: chat,\n      owner: owner,\n      preUser: preUser\n    });\n  }), /*#__PURE__*/react_default.a.createElement("div", {\n    ref: lastChat\n  }));\n};\n\n/* harmony default export */ var chat_ChatMessageList = (/*#__PURE__*/react_default.a.memo(ChatMessageList));\n// CONCATENATED MODULE: ./src/components/chat/ChatMessageWriteBox.jsx\n\n\n\n\nconst ChatMessageWriteBox = ({\n  message,\n  onChangeMessage,\n  onKeyPressMessage,\n  onSubmit\n}) => {\n  return /*#__PURE__*/react_default.a.createElement(MessageBox, null, /*#__PURE__*/react_default.a.createElement(MessageInput, {\n    type: "text",\n    name: "message",\n    onChange: onChangeMessage // onKeyUp={onKeyUpMessage}\n    ,\n    onKeyPress: onKeyPressMessage,\n    placeholder: "\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694",\n    value: message\n  }), /*#__PURE__*/react_default.a.createElement(SendButton, {\n    type: "button",\n    onClick: onSubmit,\n    disabled: isEmpty(message)\n  }, "Send"));\n};\n\n/* harmony default export */ var chat_ChatMessageWriteBox = (/*#__PURE__*/react_default.a.memo(ChatMessageWriteBox));\n// CONCATENATED MODULE: ./src/services/messages.js\n\n\nasync function fetchMessages() {\n  const chatRef = db.collection(\'messages\');\n  const snapshot = await chatRef.orderBy(\'created\').get();\n  return snapshot.docs;\n}\nasync function postMessage(chat) {\n  const {\n    currentUser: {\n      email\n    }\n  } = auth;\n\n  if (isNotEmpty(email)) {\n    const {\n      id\n    } = await db.collection(\'messages\').add({\n      user: getFirstSplit(email)(\'@\'),\n      message: chat.message,\n      created: fireStore.FieldValue.serverTimestamp(),\n      show: true\n    });\n    return id;\n  }\n\n  return null;\n}\n// CONCATENATED MODULE: ./src/redux/chat.js\n\n\n\nconst chat_initialState = {\n  chatList: [],\n  message: \'\'\n};\nconst {\n  actions: chat_actions,\n  reducer: chat_reducer\n} = Object(redux_toolkit_esm["b" /* createSlice */])({\n  name: \'chat\',\n  initialState: chat_initialState,\n  reducers: {\n    setChatList(state, {\n      payload\n    }) {\n      return { ...state,\n        chatList: [...payload]\n      };\n    },\n\n    changeMessage(state, {\n      payload: {\n        name,\n        value\n      }\n    }) {\n      return { ...state,\n        [name]: value\n      };\n    },\n\n    clearMessage(state) {\n      return { ...state,\n        message: \'\'\n      };\n    }\n\n  }\n});\nfunction loadMessages() {\n  return async dispatch => {\n    const response = await fetchMessages();\n    const messages = response.map(doc => formatMessage(doc));\n    dispatch(chat_actions.setChatList(messages));\n  };\n}\nfunction writeMessage() {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        userId\n      },\n      chat: {\n        message\n      }\n    } = getState();\n\n    if (isEmpty(userId)) {\n      return;\n    }\n\n    await postMessage({\n      userId,\n      message\n    });\n    await dispatch(chat_actions.clearMessage());\n    await dispatch(loadMessages());\n  };\n}\nconst {\n  setChatList,\n  changeMessage\n} = chat_actions;\n/* harmony default export */ var redux_chat = (chat_reducer);\n// CONCATENATED MODULE: ./src/containers/chat/ChatContainer.jsx\n/* eslint-disable consistent-return */\n\n\n\n\n\n\n\n\n\n\nconst ChatContainer = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  const lastChat = Object(react["useRef"])();\n  const [loadingTime, setLoadingTime] = Object(react["useState"])(0);\n\n  const checkCurrentSecond = value => isMatch(loadingTime)(value);\n\n  const isLessThenFiveSecond = value => isLessThen(5)(value);\n\n  const isGreaterThenFiveSecond = value => isGreaterThen(5)(value);\n\n  const {\n    user: {\n      userId\n    },\n    chat: {\n      chatList,\n      message\n    }\n  } = Object(es["d" /* useSelector */])(state => ({\n    user: state.user,\n    chat: state.chat\n  }));\n  Object(react["useEffect"])(() => {\n    // XXX CASE: Terminate Sequence (Result: Loading Failed)\n    if (checkCurrentSecond(-1)) {\n      return;\n    } // XXX CASE: Loading Failed\n\n\n    if (isGreaterThenFiveSecond(loadingTime) && isEmpty(userId)) {\n      setLoadingTime(-1);\n      return;\n    } // XXX CASE: Loading Success\n\n\n    if (isLessThenFiveSecond(loadingTime) && isNotEmpty(userId)) {\n      setLoadingTime(0);\n      return;\n    }\n\n    const timeout = setTimeout(() => setLoadingTime(loadingTime + 1), 1000);\n    return () => clearTimeout(timeout);\n  }, [userId, loadingTime]);\n  const owner = getFirstSplit(userId)(\'@\');\n  const onChangeMessage = Object(react["useCallback"])(event => {\n    const {\n      name,\n      value\n    } = event.target;\n    dispatch(changeMessage({\n      name,\n      value\n    }));\n  }, [dispatch]);\n  const onKeyPressMessage = Object(react["useCallback"])(async event => {\n    if (isEmpty(message.trim())) {\n      return;\n    }\n\n    if (isMatch(event.key)(\'Enter\')) {\n      await dispatch(writeMessage());\n      lastChat.current.scrollIntoView({\n        behavior: \'smooth\'\n      });\n    }\n  }, [dispatch, message]);\n  const onSubmit = Object(react["useCallback"])(async () => {\n    if (isEmpty(message)) {\n      return;\n    }\n\n    await dispatch(writeMessage());\n    lastChat.current.scrollIntoView({\n      behavior: \'smooth\'\n    });\n  }, [dispatch, message]);\n\n  if (isEmpty(userId) && isMatch(loadingTime)(-1)) {\n    return /*#__PURE__*/react_default.a.createElement(recipe_RecipeNotFound, null);\n  }\n\n  if (isEmpty(userId)) {\n    return /*#__PURE__*/react_default.a.createElement(common_Loading, null);\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(ChatBox, null, /*#__PURE__*/react_default.a.createElement(chat_ChatMessageList, {\n    chatList: chatList,\n    owner: owner,\n    lastChat: lastChat\n  }), /*#__PURE__*/react_default.a.createElement(chat_ChatMessageWriteBox, {\n    message: message,\n    onChangeMessage: onChangeMessage,\n    onKeyPressMessage: onKeyPressMessage,\n    onSubmit: onSubmit\n  }));\n};\n\n/* harmony default export */ var chat_ChatContainer = (ChatContainer);\n// CONCATENATED MODULE: ./src/pages/chat/ChatPage.jsx\n\n\n\n\n\n\nconst ChatPage = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  Object(react["useEffect"])(() => {\n    dispatch(loadMessages());\n  }, []);\n  Object(react["useEffect"])(() => {\n    const chatRef = db.collection(\'messages\');\n    chatRef.orderBy(\'created\').onSnapshot(() => {\n      dispatch(loadMessages());\n    });\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(chat_ChatContainer, null));\n};\n\n/* harmony default export */ var chat_ChatPage = (ChatPage);\n// CONCATENATED MODULE: ./src/App.jsx\n\n\n\n // import Loading from \'./components/common/Loading\';\n\n // const HeaderContainer = lazy(() => import(\'./containers/common/HeaderContainer\'));\n// const RecipesPage = lazy(() => import(\'./pages/recipe/RecipesPage\'));\n// const RecipePage = lazy(() => import(\'./pages/recipe/RecipePage\'));\n// const RecipeWritePage = lazy(() => import(\'./pages/recipe/RecipeWritePage\'));\n// const Recipe404Page = lazy(() => import(\'./pages/Recipe404Page\'));\n// const ChatPage = lazy(() => import(\'./pages/chat/ChatPage\'));\n\n\n\n\n\n\n\n\nconst App = () => {\n  const dispatch = Object(es["c" /* useDispatch */])();\n  Object(react["useEffect"])(() => {\n    dispatch(sessionLoginCheck());\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(common_HeaderContainer, null), /*#__PURE__*/react_default.a.createElement(layouts_Main, null, /*#__PURE__*/react_default.a.createElement(react_router["c" /* Switch */], null, /*#__PURE__*/react_default.a.createElement(react_router["a" /* Route */], {\n    exact: true,\n    path: "/",\n    component: recipe_RecipesPage\n  }), /*#__PURE__*/react_default.a.createElement(react_router["a" /* Route */], {\n    path: "/recipe/:id",\n    component: recipe_RecipePage\n  }), /*#__PURE__*/react_default.a.createElement(react_router["a" /* Route */], {\n    path: "/recipewrite/:id",\n    component: recipe_RecipeWritePage\n  }), /*#__PURE__*/react_default.a.createElement(react_router["a" /* Route */], {\n    path: "/chat",\n    component: chat_ChatPage\n  }), /*#__PURE__*/react_default.a.createElement(react_router["a" /* Route */], {\n    component: pages_Recipe404Page\n  }))));\n};\n\n/* harmony default export */ var src_App = (App);\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/redux/rootReducer.js\n\n\n\n\n\nconst rootReducer = Object(redux["c" /* combineReducers */])({\n  user: redux_user,\n  recipe: redux_recipe,\n  recipes: redux_recipes,\n  chat: redux_chat\n});\n/* harmony default export */ var redux_rootReducer = (rootReducer);\n// CONCATENATED MODULE: ./src/redux/store.js\n\n\nconst store = Object(redux_toolkit_esm["a" /* configureStore */])({\n  reducer: redux_rootReducer\n});\n/* harmony default export */ var redux_store = (store);\n// CONCATENATED MODULE: ./src/index.jsx\n\n\n\n\n\n\n\n\nsdk["a" /* init */]({\n  dsn: "https://ae354832c7564df3a77cdd48a16b9df3@o564321.ingest.sentry.io/5705008",\n  integrations: [new esm["a" /* Integrations */].BrowserTracing()],\n  tracesSampleRate: 1.0\n});\nreact_dom_default.a.render( /*#__PURE__*/react_default.a.createElement(es["a" /* Provider */], {\n  store: redux_store\n}, /*#__PURE__*/react_default.a.createElement(react_router_dom["a" /* HashRouter */], null, /*#__PURE__*/react_default.a.createElement(src_App, null))), document.getElementById(\'app\'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29uZmlnL2Rldi5qcz82MWIxIiwid2VicGFjazovLy8uL2NvbmZpZy9wcm9kLmpzPzM1MTciLCJ3ZWJwYWNrOi8vLy4vY29uZmlnL2luZGV4LmpzP2FjZTciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2ZpcmViYXNlLmpzPzc2NTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3N0b3JhZ2UuanM/NWVkZSIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvdXNlci5qcz81MWE2Iiwid2VicGFjazovLy8uL3NyYy9sYXlvdXRzL01haW4uanN4PzhkODQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xheW91dHMvY29tbW9uL0hlYWRlci5qc3g/MjAyNyIsIndlYnBhY2s6Ly8vLi9zcmMvbGF5b3V0cy9pY29ucy9IZWFkZXJJY29uLmpzeD9kNzMyIiwid2VicGFjazovLy8uL3NyYy91dGlscy91dGlscy5qcz84NTE5Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9IZWFkZXIuanN4PzU3NzMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRhaW5lcnMvY29tbW9uL0hlYWRlckNvbnRhaW5lci5qc3g/N2E3NiIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvcmVjaXBlcy5qcz8zZWUyIiwid2VicGFjazovLy8uL3NyYy9yZWR1eC9yZWNpcGVzLmpzP2FiMDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xheW91dHMvUmVjaXBlcy5qc3g/MmI0MiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlSXRlbS5qc3g/YzM4OSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlTGlzdC5qc3g/MTNlMyIsIndlYnBhY2s6Ly8vLi9zcmMvbGF5b3V0cy9jb21tb24vTG9hZGluZy5qc3g/MGM1ZCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vTG9hZGluZy5qc3g/NjQwNCIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9yZWNpcGUvUmVjaXBlc0NvbnRhaW5lci5qc3g/NzUwMyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vSW5maW5pdGVTY3JvbGwuanN4P2E0MmYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3JlY2lwZS9SZWNpcGVzUGFnZS5qc3g/ZjU1OSIsIndlYnBhY2s6Ly8vLi9zcmMvbGF5b3V0cy9SZWNpcGUuanN4P2Q0ZWEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVjaXBlL1JlY2lwZVRpdGxlLmpzeD9iNTYyIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlY2lwZS9SZWNpcGVVc2VyLmpzeD8xMWQ2Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlY2lwZS9SZWNpcGVJbWFnZS5qc3g/YTIzMCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlQmFzaWNJbmZvLmpzeD83YTkwIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlY2lwZS9SZWNpcGVEZXNjcmlwdGlvbi5qc3g/NzE0MCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWNpcGUvSW5ncmVkaWVudEl0ZW0uanN4PzliYTUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVjaXBlL0luZ3JlZGllbnRMaXN0LmpzeD9mMTdlIiwid2VicGFjazovLy8uL3NyYy9yZWR1eC9yZWNpcGUuanM/MjQ0MiIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9yZWNpcGUvUmVjaXBlQ29udGFpbmVyLmpzeD8yZDFmIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9yZWNpcGUvUmVjaXBlUGFnZS5qc3g/MWFiNyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlSW1hZ2VVcGxvYWQuanN4P2E2MDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVjaXBlL0luZ3JlZGllbnRBZGQuanN4P2E3ZWYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVjaXBlL1JlY2lwZU5vdEZvdW5kLmpzeD85NjBjIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXJzL3JlY2lwZS9SZWNpcGVXcml0ZUNvbnRhaW5lci5qc3g/Y2JhNyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcmVjaXBlL1JlY2lwZVdyaXRlUGFnZS5qc3g/YTA3NiIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUmVjaXBlNDA0UGFnZS5qc3g/M2NjNyIsIndlYnBhY2s6Ly8vLi9zcmMvbGF5b3V0cy9jaGF0L0NoYXQuanN4PzYxNjkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY2hhdC9DaGF0TWVzc2FnZS5qc3g/ZjhmYiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXRNZXNzYWdlTGlzdC5qc3g/MzQ5ZiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXRNZXNzYWdlV3JpdGVCb3guanN4PzkxNmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL21lc3NhZ2VzLmpzPzQzZTAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHV4L2NoYXQuanM/Y2ZlMyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9jaGF0L0NoYXRDb250YWluZXIuanN4P2QzNTQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2NoYXQvQ2hhdFBhZ2UuanN4PzE0YWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC5qc3g/MzY4MiIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvcm9vdFJlZHVjZXIuanM/MWYzZiIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvc3RvcmUuanM/YzY4MyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanN4PzY5MDUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGV2Q29uZmlnID0ge1xuICBhcGlLZXk6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0FQSV9LRVksXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52LkZJUkVCQVNFX0FVVEhfRE9NQUlOLFxuICBkYXRhYmFzZVVSTDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfREFUQUJBU0VfVVJMLFxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULFxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcbiAgYXBwSWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0FQUF9JRCxcbiAgbWVhc3VyZW1lbnRJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQsXG4gIHN0YXR1czogJ2RldmVsb3BtZW50Jyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRldkNvbmZpZztcbiIsImNvbnN0IHByb2RDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVBJX0tFWSxcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVVUSF9ET01BSU4sXG4gIGRhdGFiYXNlVVJMOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9EQVRBQkFTRV9VUkwsXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJPSkVDVF9JRCxcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxuICBhcHBJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVBQX0lELFxuICBtZWFzdXJlbWVudElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9NRUFTVVJFTUVOVF9JRCxcbiAgc3RhdHVzOiAncHJvZHVjdGlvbicsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kQ29uZmlnO1xuIiwiaW1wb3J0IGRldkNvbmZpZyBmcm9tICcuL2Rldic7XG5pbXBvcnQgcHJvZENvbmZpZyBmcm9tICcuL3Byb2QnO1xuXG5jb25zdCBjb25maWcgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nXG4gID8gcHJvZENvbmZpZ1xuICA6IGRldkNvbmZpZztcblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xuIiwiaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2FwcCc7XG5pbXBvcnQgJ2ZpcmViYXNlL2F1dGgnOyAvLyBpbXBvcnQgJ2ZpcmViYXNlL2FuYWx5dGljcyc7XG5cbmltcG9ydCAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCAnZmlyZWJhc2Uvc3RvcmFnZSc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZyc7XG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG5leHBvcnQgY29uc3QgYXV0aCA9IGZpcmViYXNlLmF1dGgoKTsgLy8gYXV0aC5zZXRQZXJzaXN0ZW5jZShmaXJlYmFzZS5hdXRoLkF1dGguUGVyc2lzdGVuY2UuU0VTU0lPTik7XG4vLyBleHBvcnQgY29uc3QgYW5hbHl0aWNzID0gZmlyZWJhc2UuYW5hbHl0aWNzKCk7XG5cbmV4cG9ydCBjb25zdCBmaXJlU3RvcmUgPSBmaXJlYmFzZS5maXJlc3RvcmU7XG5leHBvcnQgY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTtcbmV4cG9ydCBjb25zdCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuZXhwb3J0IGNvbnN0IHN0b3JhZ2UgPSBmaXJlYmFzZS5zdG9yYWdlKCk7IiwiZXhwb3J0IGNvbnN0IHNhdmVJdGVtID0gKGtleSwgdmFsdWUpID0+IHtcbiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZEl0ZW0gPSBrZXkgPT4ge1xuICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xufTsiLCJpbXBvcnQgeyBjcmVhdGVTbGljZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gJy4uL3NlcnZpY2VzL2ZpcmViYXNlJztcbmltcG9ydCB7IHNhdmVJdGVtLCBsb2FkSXRlbSB9IGZyb20gJy4uL3V0aWxzL3N0b3JhZ2UnO1xuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICB1c2VySWQ6ICcnLFxuICBkaXNwbGF5TmFtZTogJydcbn07XG5jb25zdCB7XG4gIGFjdGlvbnMsXG4gIHJlZHVjZXJcbn0gPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICd1c2VyJyxcbiAgaW5pdGlhbFN0YXRlLFxuICByZWR1Y2Vyczoge1xuICAgIHNldFVzZXIoc3RhdGUsIHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH1cbiAgICB9KSB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgW25hbWVdOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgY2xlYXJVc2VyKHN0YXRlKSB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgdXNlcklkOiAnJyxcbiAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICB9O1xuICAgIH1cblxuICB9XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzZXNzaW9uTG9naW5DaGVjaygpIHtcbiAgcmV0dXJuIGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyIHx8IGxvYWRJdGVtKCd1c2VyJyk7XG5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHNhdmVJdGVtKCd1c2VyJywgdXNlci5lbWFpbCk7XG4gICAgICAgIGRpc3BhdGNoKGFjdGlvbnMuc2V0VXNlcih7XG4gICAgICAgICAgbmFtZTogJ3VzZXJJZCcsXG4gICAgICAgICAgdmFsdWU6IHVzZXIuZW1haWxcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGF0Y2goYWN0aW9ucy5jbGVhclVzZXIoKSk7XG4gICAgICB9XG4gICAgfSwgMTMwMCk7XG4gIH07XG59XG5leHBvcnQgY29uc3Qge1xuICBzZXRVc2VyLFxuICBjbGVhclVzZXJcbn0gPSBhY3Rpb25zO1xuZXhwb3J0IGRlZmF1bHQgcmVkdWNlcjsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5jb25zdCBNYWluID0gc3R5bGVkLmRpdmBcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgcGFkZGluZy10b3A6IDMwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAzMHB4O1xuICBtYXJnaW46IDIwcHggYXV0bztcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBcbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAwcHgpIHtcbiAgICB3aWR0aDogNjAwcHg7XG4gIH1cblxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xuICAgIHdpZHRoOiA3NjhweDtcbiAgfVxuXG4gIC8qIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkge1xuICAgIHdpZHRoOiAxMDI0cHg7XG4gIH0gKi9cbmA7XG5leHBvcnQgZGVmYXVsdCBNYWluOyIsImltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmNvbnN0IEhlYWRlck5hdiA9IHN0eWxlZC5uYXZgXG5kaXNwbGF5OiBmbGV4O1xuanVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuYmFja2dyb3VuZDogI2ZmZjtcbmFsaWduLWl0ZW1zOiBjZW50ZXI7XG5wYWRkaW5nOiAxMHB4O1xuYDtcbmNvbnN0IEhlYWRlclRpdGxlID0gc3R5bGVkLmgxYFxuICBjb2xvcjogIzFmMmEzNztcbiAgZm9udC1zaXplOiAycmVtO1xuICBmb250LXdlaWdodDogODAwO1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICBcbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5gO1xuY29uc3QgSGVhZGVyVXNlciA9IHN0eWxlZC5wYFxuICBmb250LXNpemU6IDEuMXJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgbWFyZ2luOiAxMHB4O1xuYDtcbmNvbnN0IEhlYWRlckJ1dHRvbiA9IHN0eWxlZC5idXR0b25gXG4gIGNvbG9yOiAjMzYxZDc0O1xuICBtYXJnaW46IDEwcHg7XG4gIHBhZGRpbmc6IDVweCA3cHg7XG4gIGZvbnQtc2l6ZTogMS4wMjVyZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYm9yZGVyLWNvbG9yOiAjMzYxZDc0O1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAwLjg7XG4gIFxuICA6aG92ZXIge1xuICAgIG9wYWNpdHk6IDEuMDtcbiAgfVxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbmA7XG5jb25zdCBCdXR0b25MaW5lcyA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbmA7XG5leHBvcnQgeyBIZWFkZXJOYXYsIEhlYWRlclRpdGxlLCBIZWFkZXJVc2VyLCBIZWFkZXJCdXR0b24sIEJ1dHRvbkxpbmVzIH07IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuY29uc3QgSG9tZUljb24gPSBzdHlsZWQuaW1nYFxuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuYDtcbmNvbnN0IFVzZXJJY29uID0gc3R5bGVkLmltZ2BcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgbWFyZ2luOiAxMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAwcHgpIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5gO1xuZXhwb3J0IHsgSG9tZUljb24sIFVzZXJJY29uIH07IiwiZXhwb3J0IGNvbnN0IGlzRW1wdHkgPSB2YWx1ZSA9PiB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgaXNOb3RFbXB0eSA9IHZhbHVlID0+IHtcbiAgcmV0dXJuICFpc0VtcHR5KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgaXNNYXRjaCA9IGxlZnQgPT4gcmlnaHQgPT4ge1xuICBpZiAobGVmdCA9PT0gcmlnaHQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgaXNOb3RNYXRjaCA9IGxlZnQgPT4gcmlnaHQgPT4ge1xuICByZXR1cm4gIWlzTWF0Y2gobGVmdCkocmlnaHQpO1xufTtcbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gdmFsdWUgPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzTm90QXJyYXkgPSB2YWx1ZSA9PiB7XG4gIHJldHVybiAhaXNBcnJheSh2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzTGVzc1RoZW4gPSBzdWJqZWN0ID0+IHZhbHVlID0+IHtcbiAgaWYgKHN1YmplY3QgPiB2YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCBjb25zdCBpc0dyZWF0ZXJUaGVuID0gc3ViamVjdCA9PiB2YWx1ZSA9PiB7XG4gIGlmIChzdWJqZWN0IDwgdmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgY2hhbmdlRGF0ZVRvU3RyaW5nID0gZGF0ZSA9PiB7XG4gIGlmIChpc0VtcHR5KGRhdGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGRhdGUudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbn07XG5leHBvcnQgY29uc3QgZ2V0Rmlyc3RTcGxpdCA9IHZhbHVlID0+IGtleXdvcmQgPT4ge1xuICByZXR1cm4gdmFsdWUuc3BsaXQoa2V5d29yZClbMF07XG59O1xuZXhwb3J0IGNvbnN0IGZvcm1hdFJlY2lwZSA9IHJlY2lwZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjcmVhdGVkLFxuICAgIHVwZGF0ZWRcbiAgfSA9IHJlY2lwZS5kYXRhKCk7XG4gIHJldHVybiB7IC4uLnJlY2lwZS5kYXRhKCksXG4gICAgaWQ6IHJlY2lwZS5pZCxcbiAgICBjcmVhdGVkOiBjaGFuZ2VEYXRlVG9TdHJpbmcoY3JlYXRlZCksXG4gICAgdXBkYXRlZDogY2hhbmdlRGF0ZVRvU3RyaW5nKHVwZGF0ZWQpXG4gIH07XG59O1xuZXhwb3J0IGNvbnN0IGZvcm1hdE1lc3NhZ2UgPSBjaGF0ID0+IHtcbiAgY29uc3Qge1xuICAgIGNyZWF0ZWRcbiAgfSA9IGNoYXQuZGF0YSgpO1xuICByZXR1cm4geyAuLi5jaGF0LmRhdGEoKSxcbiAgICBjcmVhdGVkOiBjaGFuZ2VEYXRlVG9TdHJpbmcoY3JlYXRlZClcbiAgfTtcbn07XG5leHBvcnQgY29uc3QgUkVDSVBFX0NPVU5UID0gMTI7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmssIHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IEhlYWRlck5hdiwgSGVhZGVyVGl0bGUsIEhlYWRlclVzZXIsIEhlYWRlckJ1dHRvbiwgQnV0dG9uTGluZXMgfSBmcm9tICcuLi8uLi9sYXlvdXRzL2NvbW1vbi9IZWFkZXInO1xuaW1wb3J0IHsgSG9tZUljb24sIFVzZXJJY29uIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9pY29ucy9IZWFkZXJJY29uJztcbmltcG9ydCB7IGdldEZpcnN0U3BsaXQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IEhlYWRlciA9ICh7XG4gIHVzZXJJZCxcbiAgc2lnbkluV2l0aEdvb2dsZSxcbiAgc2lnbk91dFxufSkgPT4ge1xuICBjb25zdCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGNvbnN0IG9uQ2xpY2tOZXdSZWNpcGUgPSAoKSA9PiB7XG4gICAgaGlzdG9yeS5wdXNoKCcvcmVjaXBld3JpdGUvMCcpO1xuICB9O1xuXG4gIGNvbnN0IG9uQ2xpY2tDaGF0ID0gKCkgPT4ge1xuICAgIGhpc3RvcnkucHVzaCgnL2NoYXQnKTtcbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyTmF2LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgdG86IFwiL1wiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhvbWVJY29uLCB7XG4gICAgc3JjOiBcImltYWdlcy9ob21lLnN2Z1wiLFxuICAgIGFsdDogXCJIb21lXCJcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgdG86IFwiL1wiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlclRpdGxlLCBudWxsLCBcIk15IEJha2luZyBSZWNpcGVcIikpKSwgdXNlcklkID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uTGluZXMsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlclVzZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICB0bzogXCIvXCJcbiAgfSwgZ2V0Rmlyc3RTcGxpdCh1c2VySWQpKCdAJykpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBvbkNsaWNrQ2hhdFxuICB9LCBcIkNoYXRcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlckJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogb25DbGlja05ld1JlY2lwZVxuICB9LCBcIk5ldyBSZWNpcGVcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlckJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogc2lnbk91dFxuICB9LCBcIkxvZ291dFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVXNlckljb24sIHtcbiAgICBzcmM6IFwiaW1hZ2VzL2NoYXQtYnViYmxlLWRvdHMuc3ZnXCIsXG4gICAgb25DbGljazogb25DbGlja0NoYXQsXG4gICAgYWx0OiBcIkNoYXRcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVXNlckljb24sIHtcbiAgICBzcmM6IFwiaW1hZ2VzL25ldy1yZWNpcGUuc3ZnXCIsXG4gICAgb25DbGljazogb25DbGlja05ld1JlY2lwZSxcbiAgICBhbHQ6IFwiTmV3IFJlY2lwZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChVc2VySWNvbiwge1xuICAgIHNyYzogXCJpbWFnZXMvY2xvc2Utb3V0bGluZS5zdmdcIixcbiAgICBvbkNsaWNrOiBzaWduT3V0LFxuICAgIGFsdDogXCJMb2dvdXRcIlxuICB9KSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBzaWduSW5XaXRoR29vZ2xlXG4gIH0sIFwiU2lnbiBpbiAoR29vZ2xlKVwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVXNlckljb24sIHtcbiAgICBzcmM6IFwiaW1hZ2VzL2xvZ2luLWdvb2dsZS5zdmdcIixcbiAgICBvbkNsaWNrOiBzaWduSW5XaXRoR29vZ2xlLFxuICAgIGFsdDogXCJzaW5nSW5cIlxuICB9KSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oSGVhZGVyKTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL0hlYWRlcic7XG5pbXBvcnQgeyBzZXRVc2VyLCBjbGVhclVzZXIgfSBmcm9tICcuLi8uLi9yZWR1eC91c2VyJztcbmltcG9ydCB7IGF1dGgsIHByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZmlyZWJhc2UnO1xuaW1wb3J0IHsgc2F2ZUl0ZW0gfSBmcm9tICcuLi8uLi91dGlscy9zdG9yYWdlJztcbmltcG9ydCB7IGlzTm90RW1wdHkgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IEhlYWRlckNvbnRhaW5lciA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCB7XG4gICAgdXNlcjoge1xuICAgICAgdXNlcklkXG4gICAgfVxuICB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gKHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyXG4gIH0pKTtcbiAgY29uc3Qgc2lnbkluV2l0aEdvb2dsZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB1c2VyOiB7XG4gICAgICAgIGVtYWlsXG4gICAgICB9XG4gICAgfSA9IGF3YWl0IGF1dGguc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKTtcblxuICAgIGlmIChpc05vdEVtcHR5KGVtYWlsKSkge1xuICAgICAgc2F2ZUl0ZW0oJ3VzZXInLCBlbWFpbCk7XG4gICAgICBkaXNwYXRjaChzZXRVc2VyKHtcbiAgICAgICAgbmFtZTogJ3VzZXJJZCcsXG4gICAgICAgIHZhbHVlOiBlbWFpbFxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIGNvbnN0IHNpZ25PdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXV0aC5zaWduT3V0KCk7XG4gICAgZGlzcGF0Y2goY2xlYXJVc2VyKCkpO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwge1xuICAgIHVzZXJJZDogdXNlcklkLFxuICAgIHNpZ25JbldpdGhHb29nbGU6IHNpZ25JbldpdGhHb29nbGUsXG4gICAgc2lnbk91dDogc2lnbk91dFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlckNvbnRhaW5lcjsiLCJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IGRiLCBhdXRoLCBmaXJlU3RvcmUsIHN0b3JhZ2UgfSBmcm9tICcuL2ZpcmViYXNlJztcbmltcG9ydCB7IGlzTWF0Y2gsIGlzRW1wdHksIGlzTm90RW1wdHksIGdldEZpcnN0U3BsaXQsIFJFQ0lQRV9DT1VOVCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgdGltZVN0YW1wID0gZGF0ZVRpbWUgPT4gZmlyZVN0b3JlLlRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShkYXRlVGltZSkpO1xuXG5jb25zdCBmaWVsZFZhbHVlID0gZmlyZVN0b3JlLkZpZWxkVmFsdWU7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZWNpcGUoaWQpIHtcbiAgY29uc3QgcmVjaXBlc1JlZiA9IGRiLmNvbGxlY3Rpb24oJ3JlY2lwZXMnKTtcbiAgY29uc3QgcmVjaXBlID0gcmVjaXBlc1JlZi5kb2MoaWQpLmdldCgpO1xuICByZXR1cm4gcmVjaXBlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoUmVjaXBlcyhsYXN0UmVjaXBlKSB7XG4gIGNvbnN0IHJlY2lwZXNSZWYgPSBkYi5jb2xsZWN0aW9uKCdyZWNpcGVzJyk7XG5cbiAgaWYgKGlzRW1wdHkobGFzdFJlY2lwZSkpIHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHJlY2lwZXNSZWYub3JkZXJCeSgnY3JlYXRlZCcsICdkZXNjJykubGltaXQoUkVDSVBFX0NPVU5UKS5nZXQoKTtcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcztcbiAgfVxuXG4gIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcmVjaXBlc1JlZi5vcmRlckJ5KCdjcmVhdGVkJywgJ2Rlc2MnKS5zdGFydEFmdGVyKHRpbWVTdGFtcChsYXN0UmVjaXBlLmNyZWF0ZWQpKS5saW1pdChSRUNJUEVfQ09VTlQpLmdldCgpO1xuICByZXR1cm4gc25hcHNob3QuZG9jcztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0UmVjaXBlKHJlY2lwZSkge1xuICBjb25zdCB7XG4gICAgY3VycmVudFVzZXI6IHtcbiAgICAgIGVtYWlsXG4gICAgfVxuICB9ID0gYXV0aDtcblxuICBpZiAoaXNOb3RFbXB0eShlbWFpbCkpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZFxuICAgIH0gPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdyZWNpcGVzJykuYWRkKHsgLi4ucmVjaXBlLFxuICAgICAgdXNlcklkOiBlbWFpbCxcbiAgICAgIGNyZWF0ZWQ6IGZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksXG4gICAgICB1cGRhdGVkOiBmaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgc2hvdzogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVJlY2lwZShyZWNpcGUpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRVc2VyOiB7XG4gICAgICBlbWFpbFxuICAgIH1cbiAgfSA9IGF1dGg7XG5cbiAgaWYgKGlzTm90RW1wdHkoZW1haWwpKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICB0aXRsZSxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgcHJvZHVjdCxcbiAgICAgIGluZ3JlZGllbnRzLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBpbWFnZVxuICAgIH0gPSByZWNpcGU7XG4gICAgYXdhaXQgZGIuY29sbGVjdGlvbigncmVjaXBlcycpLmRvYyhpZCkudXBkYXRlKHtcbiAgICAgIHVzZXJJZDogZW1haWwsXG4gICAgICB0aXRsZSxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgcHJvZHVjdCxcbiAgICAgIGluZ3JlZGllbnRzLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBpbWFnZSxcbiAgICAgIHVwZGF0ZWQ6IGZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKClcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVJlY2lwZSh7XG4gIGlkLFxuICB1c2VySWRcbn0pIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRVc2VyOiB7XG4gICAgICBlbWFpbFxuICAgIH1cbiAgfSA9IGF1dGg7XG5cbiAgaWYgKGlzTm90RW1wdHkoZW1haWwpICYmIGlzTWF0Y2godXNlcklkKShlbWFpbCkpIHtcbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdyZWNpcGVzJykuZG9jKGlkKS5kZWxldGUoKTtcbiAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvc3RGaWxlKHtcbiAgdXNlcklkLFxuICB1cGxvYWQsXG4gIHV1aWQgPSB1dWlkdjQoKVxufSkge1xuICBjb25zdCBmaWxlUmVmID0gYXdhaXQgc3RvcmFnZS5yZWYoKS5jaGlsZChgJHtnZXRGaXJzdFNwbGl0KHVzZXJJZCkoJ0AnKX0vJHt1dWlkfWApO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZpbGVSZWYucHV0U3RyaW5nKHVwbG9hZCwgJ2RhdGFfdXJsJyk7XG4gIGNvbnN0IGltYWdlVVJMID0gcmVzcG9uc2UucmVmLmdldERvd25sb2FkVVJMKCk7XG4gIHJldHVybiBpbWFnZVVSTDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVGaWxlKHtcbiAgaW1hZ2Vcbn0pIHtcbiAgYXdhaXQgc3RvcmFnZS5yZWZGcm9tVVJMKGltYWdlKS5kZWxldGUoKTtcbn0iLCJpbXBvcnQgeyBjcmVhdGVTbGljZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHsgZmV0Y2hSZWNpcGVzIH0gZnJvbSAnLi4vc2VydmljZXMvcmVjaXBlcyc7XG5pbXBvcnQgeyBpc0VtcHR5LCBmb3JtYXRSZWNpcGUsIFJFQ0lQRV9DT1VOVCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgcmVjaXBlc0Jvb2s6IFtdLFxuICBsYXN0UmVjaXBlOiB7XG4gICAgcmVjaXBlOiBudWxsLFxuICAgIGlzTGFzdDogZmFsc2VcbiAgfVxufTtcbmNvbnN0IHtcbiAgYWN0aW9ucyxcbiAgcmVkdWNlclxufSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogJ3JlY2lwZXMnLFxuICBpbml0aWFsU3RhdGUsXG4gIHJlZHVjZXJzOiB7XG4gICAgc2V0UmVjaXBlcyhzdGF0ZSwge1xuICAgICAgcGF5bG9hZFxuICAgIH0pIHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICByZWNpcGVzQm9vazogWy4uLnBheWxvYWRdXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBzZXRMYXN0UmVjaXBlKHN0YXRlLCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlXG4gICAgICB9XG4gICAgfSkge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIGxhc3RSZWNpcGU6IHsgLi4uc3RhdGUubGFzdFJlY2lwZSxcbiAgICAgICAgICBbbmFtZV06IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIGFkZFJlY2lwZXMoc3RhdGUsIHtcbiAgICAgIHBheWxvYWRcbiAgICB9KSB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgcmVjaXBlc0Jvb2s6IFsuLi5zdGF0ZS5yZWNpcGVzQm9vaywgLi4ucGF5bG9hZF1cbiAgICAgIH07XG4gICAgfVxuXG4gIH1cbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRSZWNpcGVzKCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHJlY2lwZXM6IHtcbiAgICAgICAgbGFzdFJlY2lwZToge1xuICAgICAgICAgIHJlY2lwZSxcbiAgICAgICAgICBpc0xhc3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gPSBnZXRTdGF0ZSgpO1xuXG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hSZWNpcGVzKHJlY2lwZSk7XG5cbiAgICBpZiAoaXNFbXB0eShyZXNwb25zZSkpIHtcbiAgICAgIGRpc3BhdGNoKGFjdGlvbnMuc2V0UmVjaXBlcyhbXSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlY2lwZXMgPSByZXNwb25zZS5tYXAoZG9jID0+IGZvcm1hdFJlY2lwZShkb2MpKTtcbiAgICBkaXNwYXRjaChhY3Rpb25zLmFkZFJlY2lwZXMocmVjaXBlcykpO1xuICAgIGRpc3BhdGNoKGFjdGlvbnMuc2V0TGFzdFJlY2lwZSh7XG4gICAgICBuYW1lOiAncmVjaXBlJyxcbiAgICAgIHZhbHVlOiByZWNpcGVzW3JlY2lwZXMubGVuZ3RoIC0gMV1cbiAgICB9KSk7XG4gICAgZGlzcGF0Y2goYWN0aW9ucy5zZXRMYXN0UmVjaXBlKHtcbiAgICAgIG5hbWU6ICdpc0xhc3QnLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSkpO1xuXG4gICAgaWYgKHJlY2lwZXMubGVuZ3RoIDwgUkVDSVBFX0NPVU5UKSB7XG4gICAgICBkaXNwYXRjaChhY3Rpb25zLnNldExhc3RSZWNpcGUoe1xuICAgICAgICBuYW1lOiAnaXNMYXN0JyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUmVjaXBlcygpIHtcbiAgcmV0dXJuIGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoUmVjaXBlcygpO1xuICAgIGNvbnN0IHJlY2lwZXMgPSByZXNwb25zZS5tYXAoZG9jID0+IGZvcm1hdFJlY2lwZShkb2MpKTtcbiAgICBkaXNwYXRjaChhY3Rpb25zLnNldFJlY2lwZXMocmVjaXBlcykpO1xuICAgIGRpc3BhdGNoKGFjdGlvbnMuc2V0TGFzdFJlY2lwZSh7XG4gICAgICBuYW1lOiAncmVjaXBlJyxcbiAgICAgIHZhbHVlOiByZWNpcGVzW3JlY2lwZXMubGVuZ3RoIC0gMV1cbiAgICB9KSk7XG4gICAgZGlzcGF0Y2goYWN0aW9ucy5zZXRMYXN0UmVjaXBlKHtcbiAgICAgIG5hbWU6ICdpc0xhc3QnLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSkpO1xuICB9O1xufVxuZXhwb3J0IGNvbnN0IHtcbiAgc2V0UmVjaXBlcyxcbiAgc2V0TGFzdFJlY2lwZSxcbiAgYWRkUmVjaXBlc1xufSA9IGFjdGlvbnM7XG5leHBvcnQgZGVmYXVsdCByZWR1Y2VyOyIsImltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmNvbnN0IFJlY2lwZUNhcmRzID0gc3R5bGVkLnVsYFxuICBAbWVkaWEgKG1pbi13aWR0aDogNjAwcHgpIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBtYXJnaW46IDAgLTFyZW07XG4gIH1cbmA7XG5jb25zdCBSZWNpcGVDYXJkID0gc3R5bGVkLmxpYFxuICBtYXJnaW46IDAgMXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogM3JlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhlZjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuXG4gIDpob3ZlciB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJveC1zaGFkb3c6IDAgNXB4IDEwcHggMHB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGV5KDBweCk7XG4gIGFuaW1hdGlvbjogZmxvYXQgMXMgZWFzZS1pbi1vdXQgaW5maW5pdGU7XG4gIH1cblxuICBAa2V5ZnJhbWVzIGZsb2F0IHtcbiAgICAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZXkoMHB4KTtcbiAgICB9XG4gICAgNTAlIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRleSgtMnB4KTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZXkoMHB4KTtcbiAgICB9XG4gIH1cblxuICBAbWVkaWEgKG1pbi13aWR0aDogNjAwcHgpIHtcbiAgICB3aWR0aDogNDQlO1xuICB9XG5cbiAgQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gICAgd2lkdGg6IDI5JTtcbiAgfVxuXG4gIC8qIEBtZWRpYSAobWluLXdpZHRoOiAxMDI0cHgpIHtcbiAgICB3aWR0aDogMzAlO1xuICB9ICovXG5cbiAgLmNhcmQtaW1hZ2Uge1xuICAgIGhlaWdodDogMDtcbiAgICBwYWRkaW5nLWJvdHRvbTogNjAlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweCA1cHggMCAwO1xuXG4gICAgaW1nIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgLmNhcmQtZGVzYyB7XG4gICAgcGFkZGluZzogMXJlbTtcblxuICAgIGgxIHtcbiAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgIH1cblxuICAgIHAge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuXG4gICAgICBzdHJvbmcge1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuY2FyZC1jcmVhdGVkIHtcbiAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgY29sb3I6IGdyYXk7IFxuICAgIH1cbiAgfVxuYDtcbmV4cG9ydCB7IFJlY2lwZUNhcmRzLCBSZWNpcGVDYXJkIH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IFJlY2lwZUNhcmQgfSBmcm9tICcuLi8uLi9sYXlvdXRzL1JlY2lwZXMnO1xuaW1wb3J0IHsgaXNFbXB0eSwgZ2V0Rmlyc3RTcGxpdCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgUmVjaXBlSXRlbSA9ICh7XG4gIHJlY2lwZVxufSkgPT4ge1xuICBpZiAoaXNFbXB0eShyZWNpcGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZUNhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICB0bzogYC9yZWNpcGUvJHtyZWNpcGUuaWR9YFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImZpZ3VyZVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNhcmQtaW1hZ2VcIixcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7cmVjaXBlLmltYWdlIHx8ICdpbWFnZXMvY29va2llLmpwZWcnfSlgXG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiByZWNpcGUuaW1hZ2UgfHwgJ2ltYWdlcy9jb29raWUuanBlZycsXG4gICAgYWx0OiBcInJlY2lwZVwiXG4gIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjYXJkLWRlc2NcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIHJlY2lwZS50aXRsZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCByZWNpcGUuZGVzY3JpcHRpb24ubGVuZ3RoID4gMzAgPyBgJHtyZWNpcGUuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDMwKX0uLi5gIDogcmVjaXBlLmRlc2NyaXB0aW9uKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2FyZC1jcmVhdGVkXCJcbiAgfSwgcmVjaXBlLmNyZWF0ZWQuc3Vic3RyKDAsIDEwKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcImJ5XCIsICcgJywgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwgZ2V0Rmlyc3RTcGxpdChyZWNpcGUudXNlcklkKSgnQCcpKSkpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhSZWNpcGVJdGVtKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlY2lwZUl0ZW0gZnJvbSAnLi9SZWNpcGVJdGVtJztcbmltcG9ydCB7IFJlY2lwZUNhcmRzIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9SZWNpcGVzJztcbmltcG9ydCB7IGlzTm90QXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IFJlY2lwZUxpc3QgPSAoe1xuICByZWNpcGVzQm9va1xufSkgPT4ge1xuICBpZiAoaXNOb3RBcnJheShyZWNpcGVzQm9vaykpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXCJFbXB0eVwiKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVDYXJkcywge1xuICAgIGNsYXNzTmFtZTogXCJjYXJkLWxpc3RcIlxuICB9LCByZWNpcGVzQm9vay5tYXAocmVjaXBlID0+IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZUl0ZW0sIHtcbiAgICBrZXk6IHJlY2lwZS5pZCxcbiAgICByZWNpcGU6IHJlY2lwZVxuICB9KSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oUmVjaXBlTGlzdCk7IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuY29uc3QgTG9hZGluZ0FuaW1hdGlvbiA9IHN0eWxlZC5kaXZgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogNzVweDtcbiAgaGVpZ2h0OiA3NXB4O1xuICBib3JkZXI6IDEwcHggc29saWQgaG90cGluaztcbiAgYm9yZGVyLWNvbG9yOiBob3RwaW5rIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG5cbiAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAxMDAlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICAgIH1cbiAgfVxuYDtcbmNvbnN0IE1vZGFsID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwgMjM0LCAyMzQsIDAuMyk7XG5gO1xuZXhwb3J0IHsgTG9hZGluZ0FuaW1hdGlvbiwgTW9kYWwgfTsiLCIvKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExvYWRpbmdBbmltYXRpb24sIE1vZGFsIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9jb21tb24vTG9hZGluZyc7XG5cbmNvbnN0IExvYWRpbmcgPSAoKSA9PiB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0FuaW1hdGlvbiwgbnVsbCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9hZGluZzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUmVjaXBlTGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JlY2lwZS9SZWNpcGVMaXN0JztcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL0xvYWRpbmcnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgUmVjaXBlc0NvbnRhaW5lciA9ICgpID0+IHtcbiAgY29uc3Qge1xuICAgIHJlY2lwZXM6IHtcbiAgICAgIHJlY2lwZXNCb29rXG4gICAgfVxuICB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gKHtcbiAgICByZWNpcGVzOiBzdGF0ZS5yZWNpcGVzXG4gIH0pKTtcblxuICBpZiAoaXNFbXB0eShyZWNpcGVzQm9vay5sZW5ndGgpKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmcsIG51bGwpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYXJ0aWNsZVwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVMaXN0LCB7XG4gICAgcmVjaXBlc0Jvb2s6IHJlY2lwZXNCb29rXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlY2lwZXNDb250YWluZXI7IiwiLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IEluZmluaXRlU2Nyb2xsID0gKHtcbiAgcm9vdCA9IG51bGwsXG4gIHRhcmdldCxcbiAgb25JbnRlcnNlY3QsXG4gIHRocmVzaG9sZCA9IDEuMCxcbiAgcm9vdE1hcmdpbiA9ICc1MHB4J1xufSkgPT4ge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9uSW50ZXJzZWN0LCB7XG4gICAgICByb290LFxuICAgICAgcm9vdE1hcmdpbixcbiAgICAgIHRocmVzaG9sZFxuICAgIH0pO1xuXG4gICAgaWYgKGlzRW1wdHkodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0KTtcbiAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIudW5vYnNlcnZlKHRhcmdldCk7XG4gIH0sIFt0YXJnZXQsIHJvb3QsIHJvb3RNYXJnaW4sIG9uSW50ZXJzZWN0LCB0aHJlc2hvbGRdKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEluZmluaXRlU2Nyb2xsOyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgbG9hZFJlY2lwZXMgfSBmcm9tICcuLi8uLi9yZWR1eC9yZWNpcGVzJztcbmltcG9ydCBSZWNpcGVzQ29udGFpbmVyIGZyb20gJy4uLy4uL2NvbnRhaW5lcnMvcmVjaXBlL1JlY2lwZXNDb250YWluZXInO1xuaW1wb3J0IEluZmluaXRlU2Nyb2xsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL0luZmluaXRlU2Nyb2xsJztcblxuY29uc3QgUmVjaXBlc1BhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgW3RhcmdldCwgc2V0VGFyZ2V0XSA9IHVzZVN0YXRlKG51bGwpO1xuICBJbmZpbml0ZVNjcm9sbCh7XG4gICAgdGFyZ2V0LFxuICAgIG9uSW50ZXJzZWN0OiAoW3tcbiAgICAgIGlzSW50ZXJzZWN0aW5nXG4gICAgfV0pID0+IHtcbiAgICAgIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICBkaXNwYXRjaChsb2FkUmVjaXBlcygpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZXNDb250YWluZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiBzZXRUYXJnZXRcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjaXBlc1BhZ2U7IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuY29uc3QgTGFiZWwgPSBzdHlsZWQubGFiZWxgXG4gIGRpc3BsYXk6ICR7cHJvcHMgPT4gcHJvcHMuZGlzcGxheX07XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICBtaW4td2lkdGg6IDEwMHB4O1xuICB3aWR0aDogJHtwcm9wcyA9PiBwcm9wcy53aWR0aH07XG4gIG1hcmdpbjogMC4xMjVyZW07XG4gIHBhZGRpbmc6IDAuNXJlbTtcbmA7XG5jb25zdCBEdXR5TGFiZWwgPSBzdHlsZWQubGFiZWxgXG4gIGRpc3BsYXk6ICR7cHJvcHMgPT4gcHJvcHMuZGlzcGxheX07XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICBtaW4td2lkdGg6IDEwMHB4O1xuICB3aWR0aDogJHtwcm9wcyA9PiBwcm9wcy53aWR0aH07XG4gIG1hcmdpbjogMC4xMjVyZW07XG4gIHBhZGRpbmc6IDAuNXJlbTtcblxuICA6YmVmb3JlIHtcbiAgY29sb3I6ICNlZDU0NjQ7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgY29udGVudDogJyonO1xuXG4gIH1cbmA7XG5jb25zdCBJbnB1dCA9IHN0eWxlZC5pbnB1dGBcbiAgY29sb3I6ICMwMDA7XG4gIGRpc3BsYXk6ICR7cHJvcHMgPT4gcHJvcHMuZGlzcGxheX07XG4gIG1pbi13aWR0aDogMTAwcHg7XG4gIHdpZHRoOiAke3Byb3BzID0+IHByb3BzLndpZHRofTtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGJvcmRlci1yYWRpdXM6IDAuMjVyZW07XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlNWU3ZWI7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNGU3ZWI7XG4gIGhlaWdodDogMjRweDtcbiAgbWFyZ2luOiAwLjVyZW07XG4gIHBhZGRpbmc6IDAuNzVyZW07XG5gO1xuY29uc3QgU2VsZWN0ID0gc3R5bGVkLnNlbGVjdGBcbiAgY29sb3I6ICMwMDA7XG4gIG1pbi13aWR0aDogMTAwcHg7XG4gIHdpZHRoOiAke3Byb3BzID0+IHByb3BzLndpZHRofTtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGJvcmRlci1yYWRpdXM6IDAuMjVyZW07XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlNWU3ZWI7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNGU3ZWI7XG4gIGhlaWdodDogNDhweDtcbiAgbWFyZ2luOiAwLjVyZW07XG4gIHBhZGRpbmc6IDAuNzVyZW07XG5gO1xuY29uc3QgU3BhbiA9IHN0eWxlZC5zcGFuYFxuICBmb250LXNpemU6IDEuMnJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbmA7XG5jb25zdCBUZXh0YXJlYSA9IHN0eWxlZC50ZXh0YXJlYWBcbiAgY29sb3I6ICMwMDA7XG4gIG1pbi13aWR0aDogMzAwcHg7XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICB3aWR0aDogNzAlO1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U0ZTdlYjtcbiAgbWFyZ2luOiAwLjVyZW07XG4gIHBhZGRpbmc6IDAuNzVyZW07XG5gO1xuY29uc3QgQnV0dG9uID0gc3R5bGVkLmJ1dHRvbmBcbiAgY29sb3I6ICMzNjFkNzQ7XG4gIHBhZGRpbmc6IDVweCA3cHg7XG4gIGZvbnQtc2l6ZTogMS4wMjVyZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGJvcmRlci1jb2xvcjogIzM2MWQ3NDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW46IDEwcHg7XG4gIHRyYW5zaXRpb246IDAuNXM7XG4gIG9wYWNpdHk6IDAuODtcbiAgXG4gIDpkaXNhYmxlZCB7XG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICBvcGFjaXR5OiAwLjI7XG4gIH1cblxuICA6aG92ZXI6ZW5hYmxlZCB7XG4gICAgb3BhY2l0eTogMS4wO1xuICAgIHRyYW5zaXRpb246IDAuNXM7XG4gIH1cbmA7XG5jb25zdCBIYW1idXJnZXIgPSBzdHlsZWQuc3BhbmBcbiAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7ICBcbiAgYmFja2dyb3VuZDogIzAwMDsgIFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAyNnB4O1xuICBoZWlnaHQ6IDRweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuXG4gIDo6YmVmb3JlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kOiAjMDAwOyAgXG4gIHRvcDogLTEwcHg7XG4gIHdpZHRoOiAyNnB4O1xuICBoZWlnaHQ6IDRweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjb250ZW50OiAnJztcblxuICB9XG5cbiAgOjphZnRlciB7XG4gIGJhY2tncm91bmQ6ICMwMDA7ICBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDEwcHg7XG4gIHdpZHRoOiAyNnB4O1xuICBoZWlnaHQ6IDRweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjb250ZW50OiAnJztcbiAgfVxuYDtcbmNvbnN0IEltZyA9IHN0eWxlZC5pbWdgXG4gIG1hcmdpbjogMC4xMjVyZW07XG4gIHBhZGRpbmc6IDAuNXJlbTtcbmA7XG5jb25zdCBOb3RpY2UgPSBzdHlsZWQuZGl2YFxuICBtYXJnaW4tbGVmdDogMXJlbTtcbiAgZm9udC1zaXplOiAwLjc1cmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuYDtcbmNvbnN0IFRpdGxlID0gc3R5bGVkLnBgXG4gIGZvbnQtc2l6ZTogMi41cmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICBtYXJnaW4tbGVmdDogMXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuYDtcbmNvbnN0IFVzZXJOYW1lID0gc3R5bGVkLnNwYW5gXG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICBtYXJnaW4tbGVmdDogMS41cmVtO1xuICBcbiAgOmJlZm9yZSB7XG4gICAgY29udGVudDogJ2J5ICc7XG4gICAgZm9udC1zaXplOiAxcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cbmA7XG5jb25zdCBEYXRlID0gc3R5bGVkLnNwYW5gXG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBmb250LXdlaWdodDogNDAwO1xuICBtYXJnaW4tbGVmdDogMS41cmVtO1xuYDtcbmNvbnN0IExpbmUgPSBzdHlsZWQuaHJgXG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIHdpZHRoOiA5NSU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBwYWRkaW5nOiAycHggMDtcbiAgbGV0dGVyLXNwYWNpbmc6IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0NSwgMTc0LCA2OSk7XG4gIG9wYWNpdHk6IDAuODtcbiAgYW5pbWF0aW9uOiBzaG93bGluZSAxcyBlYXNlLW91dCAxO1xuXG4gIEBrZXlmcmFtZXMgc2hvd2xpbmUge1xuICAgIDAlIHtcbiAgICAgIHdpZHRoOiAwJTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICB3aWR0aDogOTYlO1xuICAgIH1cbiAgfVxuYDtcbmNvbnN0IENlbnRlciA9IHN0eWxlZC5kaXZgXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBpbWcge1xuICAgIHdpZHRoOiA3MCU7XG4gICAgaGVpZ2h0OiA3MCU7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgfVxuYDtcbmV4cG9ydCB7IExhYmVsLCBEdXR5TGFiZWwsIElucHV0LCBTZWxlY3QsIFNwYW4sIFRleHRhcmVhLCBCdXR0b24sIFRpdGxlLCBIYW1idXJnZXIsIEltZywgTm90aWNlLCBVc2VyTmFtZSwgRGF0ZSwgTGluZSwgQ2VudGVyIH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRpdGxlIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9SZWNpcGUnO1xuXG5jb25zdCBSZWNpcGVUaXRsZSA9ICh7XG4gIHRpdGxlXG59KSA9PiB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwgbnVsbCwgdGl0bGUpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oUmVjaXBlVGl0bGUpOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVc2VyTmFtZSwgRGF0ZSwgTGluZSB9IGZyb20gJy4uLy4uL2xheW91dHMvUmVjaXBlJztcbmltcG9ydCB7IGdldEZpcnN0U3BsaXQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IFJlY2lwZVVzZXIgPSAoe1xuICB1c2VyLFxuICBjcmVhdGVkXG59KSA9PiB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVXNlck5hbWUsIG51bGwsIGdldEZpcnN0U3BsaXQodXNlcikoJ0AnKSksICcgJywgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0ZSwgbnVsbCwgY3JlYXRlZC5zdWJzdHIoMCwgMTApKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGluZSwgbnVsbCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oUmVjaXBlVXNlcik7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExhYmVsLCBJbWcgfSBmcm9tICcuLi8uLi9sYXlvdXRzL1JlY2lwZSc7XG5cbmNvbnN0IFJlY2lwZUltYWdlID0gKHtcbiAgaW1hZ2Vcbn0pID0+IHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwge1xuICAgIGh0bWxGb3I6IFwiZGlzcGxheUltYWdlXCIsXG4gICAgZGlzcGxheTogXCJibG9ja1wiXG4gIH0sIFwiXFx1Qzc3NFxcdUJCRjhcXHVDOUMwXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbWcsIHtcbiAgICBpZDogXCJkaXNwbGF5SW1hZ2VcIixcbiAgICBzcmM6IGltYWdlIHx8ICdpbWFnZXMvY29va2llLmpwZWcnLFxuICAgIHdpZHRoOiBcIjIwMHB4XCIsXG4gICAgaGVpZ2h0OiBcIjIwMHB4XCIsXG4gICAgYWx0OiBcInJlY2lwZVwiXG4gIH0pKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhSZWNpcGVJbWFnZSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExhYmVsLCBEdXR5TGFiZWwsIElucHV0LCBTZWxlY3QsIFNwYW4gfSBmcm9tICcuLi8uLi9sYXlvdXRzL1JlY2lwZSc7XG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jb25zdCBSZWNpcGVCYXNpY0luZm8gPSAoe1xuICB0aXRsZSxcbiAgY2F0ZWdvcnksXG4gIHByb2R1Y3QsXG4gIG9uQ2hhbmdlUmVjaXBlXG59KSA9PiB7XG4gIGNvbnN0IGNhdGVnb3J5RW51bSA9IFt7XG4gICAgdmFsdWU6IDAsXG4gICAgdGV4dDogJ+yEoO2DnSdcbiAgfSwge1xuICAgIHZhbHVlOiAxLFxuICAgIHRleHQ6ICfsv6DtgqQnXG4gIH0sIHtcbiAgICB2YWx1ZTogMixcbiAgICB0ZXh0OiAn6rWs7JuA6rO87J6QJ1xuICB9LCB7XG4gICAgdmFsdWU6IDMsXG4gICAgdGV4dDogJ+y8gOydtO2BrCdcbiAgfSwge1xuICAgIHZhbHVlOiA0LFxuICAgIHRleHQ6ICfrubUnXG4gIH0sIHtcbiAgICB2YWx1ZTogNSxcbiAgICB0ZXh0OiAn66eI7Lm066GxJ1xuICB9LCB7XG4gICAgdmFsdWU6IDYsXG4gICAgdGV4dDogJ+q4sO2DgCdcbiAgfV07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgaXNFbXB0eShvbkNoYW5nZVJlY2lwZSkgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwge1xuICAgIGh0bWxGb3I6IFwidGl0bGVcIixcbiAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgfSwgXCJcXHVCODA4XFx1QzJEQ1xcdUQ1M0NcXHVCQTg1XCIpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHV0eUxhYmVsLCB7XG4gICAgaHRtbEZvcjogXCJ0aXRsZVwiLFxuICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICB9LCBcIlxcdUI4MDhcXHVDMkRDXFx1RDUzQ1xcdUJBODVcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7XG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgaWQ6IFwidGl0bGVcIixcbiAgICBuYW1lOiBcInRpdGxlXCIsXG4gICAgdmFsdWU6IHRpdGxlLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVJlY2lwZSxcbiAgICB3aWR0aDogXCI2MCVcIixcbiAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgZGlzYWJsZWQ6IGlzRW1wdHkob25DaGFuZ2VSZWNpcGUpXG4gIH0pLCBpc0VtcHR5KG9uQ2hhbmdlUmVjaXBlKSA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwge1xuICAgIGh0bWxGb3I6IFwiY2F0ZWdvcnlcIixcbiAgICB3aWR0aDogXCIzMCVcIixcbiAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiXG4gIH0sIFwiXFx1Q0U3NFxcdUQxNENcXHVBQ0UwXFx1QjlBQ1wiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHtcbiAgICBodG1sRm9yOiBcInByb2R1Y3RcIixcbiAgICB3aWR0aDogXCIyMCVcIixcbiAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiXG4gIH0sIFwiXFx1QzBERFxcdUMwQjBcXHVCN0M5XCIpKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEdXR5TGFiZWwsIHtcbiAgICBodG1sRm9yOiBcImNhdGVnb3J5XCIsXG4gICAgd2lkdGg6IFwiMzAlXCIsXG4gICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIlxuICB9LCBcIlxcdUNFNzRcXHVEMTRDXFx1QUNFMFxcdUI5QUNcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KER1dHlMYWJlbCwge1xuICAgIGh0bWxGb3I6IFwicHJvZHVjdFwiLFxuICAgIHdpZHRoOiBcIjIwJVwiLFxuICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCJcbiAgfSwgXCJcXHVDMEREXFx1QzBCMFxcdUI3QzlcIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHtcbiAgICBpZDogXCJjYXRlZ29yeVwiLFxuICAgIG5hbWU6IFwiY2F0ZWdvcnlcIixcbiAgICB2YWx1ZTogY2F0ZWdvcnksXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlUmVjaXBlLFxuICAgIHdpZHRoOiBcIjMwJVwiLFxuICAgIGRpc2FibGVkOiBpc0VtcHR5KG9uQ2hhbmdlUmVjaXBlKVxuICB9LCBjYXRlZ29yeUVudW0ubWFwKCh7XG4gICAgdmFsdWUsXG4gICAgdGV4dFxuICB9KSA9PiB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIsIHtcbiAgICAgIGtleTogdmFsdWUsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9LCB0ZXh0KTtcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgbWluOiBcIjBcIixcbiAgICBtYXg6IFwiMTAwMDAwMDAwMFwiLFxuICAgIGlkOiBcInByb2R1Y3RcIixcbiAgICBuYW1lOiBcInByb2R1Y3RcIixcbiAgICB2YWx1ZTogcHJvZHVjdCxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VSZWNpcGUsXG4gICAgd2lkdGg6IFwiMjAlXCIsXG4gICAgZGlzYWJsZWQ6IGlzRW1wdHkob25DaGFuZ2VSZWNpcGUpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTcGFuLCBudWxsLCBcIlxcdUFDMUNcIikpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKFJlY2lwZUJhc2ljSW5mbyk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExhYmVsLCBEdXR5TGFiZWwsIFRleHRhcmVhIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9SZWNpcGUnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgUmVjaXBlRGVzY3JpcHRpb24gPSAoe1xuICBkZXNjcmlwdGlvbixcbiAgb25DaGFuZ2VSZWNpcGVcbn0pID0+IHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCBpc0VtcHR5KG9uQ2hhbmdlUmVjaXBlKSA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExhYmVsLCB7XG4gICAgaHRtbEZvcjogXCJkZXNjcmlwdGlvblwiLFxuICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICB9LCBcIlxcdUI5Q0NcXHVCNERDXFx1QjI5NCBcXHVCQzI5XFx1QkM5NVwiKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KER1dHlMYWJlbCwge1xuICAgIGh0bWxGb3I6IFwiZGVzY3JpcHRpb25cIixcbiAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgfSwgXCJcXHVCOUNDXFx1QjREQ1xcdUIyOTQgXFx1QkMyOVxcdUJDOTVcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRleHRhcmVhLCB7XG4gICAgaWQ6IFwiZGVzY3JpcHRpb25cIixcbiAgICBuYW1lOiBcImRlc2NyaXB0aW9uXCIsXG4gICAgdmFsdWU6IGRlc2NyaXB0aW9uLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVJlY2lwZSxcbiAgICBkaXNhYmxlZDogaXNFbXB0eShvbkNoYW5nZVJlY2lwZSlcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oUmVjaXBlRGVzY3JpcHRpb24pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJbnB1dCwgU3BhbiwgQnV0dG9uLCBIYW1idXJnZXIgfSBmcm9tICcuLi8uLi9sYXlvdXRzL1JlY2lwZSc7XG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jb25zdCBJbmdyZWRpZW50SXRlbSA9ICh7XG4gIGlkLFxuICBpbmdyZWRpZW50LFxuICB3ZWlnaHQsXG4gIG9uQ2hhbmdlSW5ncmVkaWVudCxcbiAgb25SZW1vdmVJbmdyZWRpZW50LFxuICBwcm92aWRlZFxufSkgPT4ge1xuICBpZiAoaXNFbXB0eShpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNFbXB0eShwcm92aWRlZCkpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBpZDogYGluZ3JlZGllbnQtJHtpZH1gLFxuICAgICAgbmFtZTogYGluZ3JlZGllbnQtJHtpZH1gLFxuICAgICAgdmFsdWU6IGluZ3JlZGllbnQsXG4gICAgICB3aWR0aDogXCIzMCVcIixcbiAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7XG4gICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgbWluOiBcIjBcIixcbiAgICAgIG1heDogXCIxMDAwMDAwMDAwXCIsXG4gICAgICBpZDogYHdlaWdodC0ke2lkfWAsXG4gICAgICBuYW1lOiBgd2VpZ2h0LSR7aWR9YCxcbiAgICAgIHZhbHVlOiB3ZWlnaHQsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2VJbmdyZWRpZW50LFxuICAgICAgd2lkdGg6IFwiMjAlXCIsXG4gICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTcGFuLCBudWxsLCBcImdcIikpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcHJvdmlkZWQuaW5uZXJSZWZcbiAgfSwgcHJvdmlkZWQuZHJhZ0hhbmRsZVByb3BzLCBwcm92aWRlZC5kcmFnZ2FibGVQcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhhbWJ1cmdlciwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7XG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgaWQ6IGBpbmdyZWRpZW50LSR7aWR9YCxcbiAgICBuYW1lOiBgaW5ncmVkaWVudC0ke2lkfWAsXG4gICAgdmFsdWU6IGluZ3JlZGllbnQsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlSW5ncmVkaWVudCxcbiAgICB3aWR0aDogXCIyNCVcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIG1pbjogXCIwXCIsXG4gICAgbWF4OiBcIjEwMDAwMDAwMDBcIixcbiAgICBpZDogYHdlaWdodC0ke2lkfWAsXG4gICAgbmFtZTogYHdlaWdodC0ke2lkfWAsXG4gICAgdmFsdWU6IHdlaWdodCxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VJbmdyZWRpZW50LFxuICAgIHdpZHRoOiBcIjEzJVwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTcGFuLCBudWxsLCBcImdcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogb25SZW1vdmVJbmdyZWRpZW50LFxuICAgIHZhbHVlOiBpZFxuICB9LCBcIlxcdUMwQURcXHVDODFDXCIpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKEluZ3JlZGllbnRJdGVtKTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRHJhZ0Ryb3BDb250ZXh0LCBEcm9wcGFibGUsIERyYWdnYWJsZSB9IGZyb20gJ3JlYWN0LWJlYXV0aWZ1bC1kbmQnO1xuaW1wb3J0IEluZ3JlZGllbnRJdGVtIGZyb20gJy4vSW5ncmVkaWVudEl0ZW0nO1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICcuLi8uLi9sYXlvdXRzL1JlY2lwZSc7XG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jb25zdCBJbmdyZWRpZW50TGlzdCA9ICh7XG4gIGluZ3JlZGllbnRzLFxuICBvbkNoYW5nZUluZ3JlZGllbnQsXG4gIG9uUmVtb3ZlSW5ncmVkaWVudCxcbiAgb25EcmFnRW5kSW5ncmVkaWVudFxufSkgPT4ge1xuICBpZiAoaXNFbXB0eShvbkRyYWdFbmRJbmdyZWRpZW50KSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExhYmVsLCB7XG4gICAgICB3aWR0aDogXCIzMiVcIixcbiAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCJcbiAgICB9LCBcIlxcdUM2RDBcXHVDN0FDXFx1QjhDQ1wiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHtcbiAgICAgIHdpZHRoOiBcIjIwJVwiLFxuICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIlxuICAgIH0sIFwiXFx1QzZBOVxcdUI3QzlcIikpLCBpbmdyZWRpZW50cy5tYXAoKHtcbiAgICAgIGlkLFxuICAgICAgaW5ncmVkaWVudCxcbiAgICAgIHdlaWdodFxuICAgIH0pID0+IHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbmdyZWRpZW50SXRlbSwge1xuICAgICAgICBrZXk6IGlkLFxuICAgICAgICBpZDogaWQsXG4gICAgICAgIGluZ3JlZGllbnQ6IGluZ3JlZGllbnQsXG4gICAgICAgIHdlaWdodDogd2VpZ2h0LFxuICAgICAgICBvbkNoYW5nZUluZ3JlZGllbnQ6IG9uQ2hhbmdlSW5ncmVkaWVudCxcbiAgICAgICAgb25SZW1vdmVJbmdyZWRpZW50OiBvblJlbW92ZUluZ3JlZGllbnRcbiAgICAgIH0pO1xuICAgIH0pKSk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyYWdEcm9wQ29udGV4dCwge1xuICAgIG9uRHJhZ0VuZDogb25EcmFnRW5kSW5ncmVkaWVudFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wcGFibGUsIHtcbiAgICBkcm9wcGFibGVJZDogXCJpbmdyZWRpZW50c1wiXG4gIH0sIGRyb3BwYWJsZVByb3ZpZGVkID0+IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogXCJpbmdyZWRpZW50c1wiXG4gIH0sIGRyb3BwYWJsZVByb3ZpZGVkLmRyb3BwYWJsZVByb3BzLCB7XG4gICAgcmVmOiBkcm9wcGFibGVQcm92aWRlZC5pbm5lclJlZlxuICB9KSwgaW5ncmVkaWVudHMubWFwKCh7XG4gICAgaWQsXG4gICAgaW5ncmVkaWVudCxcbiAgICB3ZWlnaHRcbiAgfSwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHJhZ2dhYmxlLCB7XG4gICAgICBrZXk6IGlkLnRvU3RyaW5nKCksXG4gICAgICBkcmFnZ2FibGVJZDogaWQudG9TdHJpbmcoKSxcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH0sIGRyYWdnYWJsZVByb3ZpZGVkID0+IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEluZ3JlZGllbnRJdGVtLCB7XG4gICAgICBrZXk6IGlkLFxuICAgICAgaWQ6IGlkLFxuICAgICAgaW5ncmVkaWVudDogaW5ncmVkaWVudCxcbiAgICAgIHdlaWdodDogd2VpZ2h0LFxuICAgICAgb25DaGFuZ2VJbmdyZWRpZW50OiBvbkNoYW5nZUluZ3JlZGllbnQsXG4gICAgICBvblJlbW92ZUluZ3JlZGllbnQ6IG9uUmVtb3ZlSW5ncmVkaWVudCxcbiAgICAgIHByb3ZpZGVkOiBkcmFnZ2FibGVQcm92aWRlZFxuICAgIH0pKTtcbiAgfSksIGRyb3BwYWJsZVByb3ZpZGVkLnBsYWNlaG9sZGVyKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKEluZ3JlZGllbnRMaXN0KTsiLCJpbXBvcnQgeyBjcmVhdGVTbGljZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHsgZmV0Y2hSZWNpcGUsIHBvc3RSZWNpcGUsIHVwZGF0ZVJlY2lwZSwgZGVsZXRlUmVjaXBlLCBwb3N0RmlsZSwgZGVsZXRlRmlsZSB9IGZyb20gJy4uL3NlcnZpY2VzL3JlY2lwZXMnO1xuaW1wb3J0IHsgaXNNYXRjaCwgaXNFbXB0eSwgaXNOb3RFbXB0eSwgZm9ybWF0UmVjaXBlIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBpZDogMCxcbiAgdXNlcklkOiAnJyxcbiAgdGl0bGU6ICcnLFxuICBjYXRlZ29yeTogMCxcbiAgcHJvZHVjdDogMCxcbiAgaW5ncmVkaWVudHM6IFtdLFxuICBuZXdJbmdyZWRpZW50OiB7XG4gICAgaWQ6IDAsXG4gICAgaW5ncmVkaWVudDogJycsXG4gICAgd2VpZ2h0OiAwXG4gIH0sXG4gIGRlc2NyaXB0aW9uOiAnJyxcbiAgdXBsb2FkOiBudWxsLFxuICBpbWFnZTogbnVsbFxufTtcbmNvbnN0IHtcbiAgYWN0aW9ucyxcbiAgcmVkdWNlclxufSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogJ3JlY2lwZScsXG4gIGluaXRpYWxTdGF0ZSxcbiAgcmVkdWNlcnM6IHtcbiAgICBzZXRSZWNpcGUoc3RhdGUsIHtcbiAgICAgIHBheWxvYWRcbiAgICB9KSB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgbmV3SW5ncmVkaWVudDoge1xuICAgICAgICAgIGlkOiBwYXlsb2FkLmluZ3JlZGllbnRzLmxlbmd0aCArIDEsXG4gICAgICAgICAgaW5ncmVkaWVudDogJycsXG4gICAgICAgICAgd2VpZ2h0OiAwXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIHNldE5ld0luZ3JlZGllbnQoc3RhdGUsIHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgZmllbGRzXG4gICAgICB9XG4gICAgfSkge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIGluZ3JlZGllbnRzOiBbZmllbGRzLCAuLi5zdGF0ZS5pbmdyZWRpZW50c10sXG4gICAgICAgIG5ld0luZ3JlZGllbnQ6IHtcbiAgICAgICAgICBpZDogMCxcbiAgICAgICAgICBpbmdyZWRpZW50OiAnJyxcbiAgICAgICAgICB3ZWlnaHQ6IDBcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgY2hhbmdlUmVjaXBlKHN0YXRlLCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlXG4gICAgICB9XG4gICAgfSkge1xuICAgICAgaWYgKGlzTWF0Y2gobmFtZSkoJ3Byb2R1Y3QnKSkge1xuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgICBbbmFtZV06IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIFtuYW1lXTogdmFsdWVcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGNoYW5nZUluZ3JlZGllbnQoc3RhdGUsIHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH1cbiAgICB9KSB7XG4gICAgICBjb25zdCBbdGFyZ2V0TmFtZSwgdGFyZ2V0SWRdID0gbmFtZS5zcGxpdCgnLScpO1xuXG4gICAgICBpZiAoaXNNYXRjaCh0YXJnZXROYW1lKSgnd2VpZ2h0JykpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgICAgaW5ncmVkaWVudHM6IHN0YXRlLmluZ3JlZGllbnRzLm1hcChpbmdyZWRpZW50ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbmdyZWRpZW50LmlkLCAxMCkgPT09IHBhcnNlSW50KHRhcmdldElkLCAxMCkgPyB7IC4uLmluZ3JlZGllbnQsXG4gICAgICAgICAgICAgIFt0YXJnZXROYW1lXTogcGFyc2VJbnQodmFsdWUsIDEwKVxuICAgICAgICAgICAgfSA6IGluZ3JlZGllbnQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIGluZ3JlZGllbnRzOiBzdGF0ZS5pbmdyZWRpZW50cy5tYXAoaW5ncmVkaWVudCA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGluZ3JlZGllbnQuaWQsIDEwKSA9PT0gcGFyc2VJbnQodGFyZ2V0SWQsIDEwKSA/IHsgLi4uaW5ncmVkaWVudCxcbiAgICAgICAgICAgIFt0YXJnZXROYW1lXTogdmFsdWVcbiAgICAgICAgICB9IDogaW5ncmVkaWVudDtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGNoYW5nZU5ld0luZ3JlZGllbnQoc3RhdGUsIHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH1cbiAgICB9KSB7XG4gICAgICBjb25zdCBbdGFyZ2V0TmFtZSwgdGFyZ2V0SWRdID0gbmFtZS5zcGxpdCgnLScpO1xuXG4gICAgICBpZiAoaXNNYXRjaCh0YXJnZXROYW1lKSgnd2VpZ2h0JykpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgICAgbmV3SW5ncmVkaWVudDogeyAuLi5zdGF0ZS5uZXdJbmdyZWRpZW50LFxuICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRhcmdldElkLCAxMCksXG4gICAgICAgICAgICBbdGFyZ2V0TmFtZV06IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICBuZXdJbmdyZWRpZW50OiB7IC4uLnN0YXRlLm5ld0luZ3JlZGllbnQsXG4gICAgICAgICAgaWQ6IHBhcnNlSW50KHRhcmdldElkLCAxMCksXG4gICAgICAgICAgW3RhcmdldE5hbWVdOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBjbGVhclJlY2lwZShzdGF0ZSkge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIC4uLmluaXRpYWxTdGF0ZVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlSW5ncmVkaWVudChzdGF0ZSwge1xuICAgICAgcGF5bG9hZDoge1xuICAgICAgICB2YWx1ZVxuICAgICAgfVxuICAgIH0pIHtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IHN0YXRlLmluZ3JlZGllbnRzLmxlbmd0aCAtIDE7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgaW5ncmVkaWVudHM6IHN0YXRlLmluZ3JlZGllbnRzLmZpbHRlcihpbmdyZWRpZW50ID0+IHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5ncmVkaWVudC5pZCwgMTApICE9PSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICB9KS5tYXAoKG9iaiwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGxlbmd0aCAtIGluZGV4LFxuICAgICAgICAgICAgaW5ncmVkaWVudDogb2JqLmluZ3JlZGllbnQsXG4gICAgICAgICAgICB3ZWlnaHQ6IG9iai53ZWlnaHRcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgbmV3SW5ncmVkaWVudDogeyAuLi5zdGF0ZS5uZXdJbmdyZWRpZW50LFxuICAgICAgICAgIGlkOiBwYXJzZUludChsZW5ndGggKyAxLCAxMClcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgc3dhcEluZ3JlZGllbnRzKHN0YXRlLCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIG9yaWdpbkluZGV4LFxuICAgICAgICBkZXN0aW5hdGlvbkluZGV4XG4gICAgICB9XG4gICAgfSkge1xuICAgICAgY29uc3QgaW5ncmVkaWVudHMgPSBbLi4uc3RhdGUuaW5ncmVkaWVudHNdO1xuICAgICAgY29uc3Qgb3JpZ2luSW5ncmVkaWVudCA9IGluZ3JlZGllbnRzW29yaWdpbkluZGV4XTtcbiAgICAgIGluZ3JlZGllbnRzLnNwbGljZShvcmlnaW5JbmRleCwgMSk7XG4gICAgICBpbmdyZWRpZW50cy5zcGxpY2UoZGVzdGluYXRpb25JbmRleCwgMCwgb3JpZ2luSW5ncmVkaWVudCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGxlbmd0aFxuICAgICAgfSA9IGluZ3JlZGllbnRzO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIGluZ3JlZGllbnRzOiBpbmdyZWRpZW50cy5tYXAoKG9iaiwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4geyAuLi5vYmosXG4gICAgICAgICAgICBpZDogbGVuZ3RoIC0gaW5kZXhcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG5cbiAgfVxufSk7XG5leHBvcnQgZnVuY3Rpb24gbG9hZFJlY2lwZShpZCkge1xuICByZXR1cm4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICAgIGNvbnN0IHJlY2lwZSA9IGF3YWl0IGZldGNoUmVjaXBlKGlkKTtcblxuICAgIGlmICghcmVjaXBlLmV4aXN0cykge1xuICAgICAgZGlzcGF0Y2goYWN0aW9ucy5zZXRSZWNpcGUoaW5pdGlhbFN0YXRlKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goYWN0aW9ucy5zZXRSZWNpcGUoZm9ybWF0UmVjaXBlKHJlY2lwZSkpKTtcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZVJlY2lwZSgpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB1c2VyOiB7XG4gICAgICAgIHVzZXJJZFxuICAgICAgfSxcbiAgICAgIHJlY2lwZToge1xuICAgICAgICBpZCxcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBwcm9kdWN0LFxuICAgICAgICBpbmdyZWRpZW50cyxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHVwbG9hZCxcbiAgICAgICAgaW1hZ2VcbiAgICAgIH1cbiAgICB9ID0gZ2V0U3RhdGUoKTtcblxuICAgIGlmIChpc0VtcHR5KHVzZXJJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFZhbGlkYXRpb24gQ2hlY2tcblxuXG4gICAgaWYgKGlzRW1wdHkodGl0bGUudHJpbSgpKSB8fCBpc0VtcHR5KGNhdGVnb3J5KSB8fCBpc0VtcHR5KHByb2R1Y3QpIHx8IGlzRW1wdHkoZGVzY3JpcHRpb24udHJpbSgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSW1hZ2UgdXBsb2FkIENoZWNrXG5cblxuICAgIGxldCBpbWFnZVVSTCA9ICcnOyAvLyBSZXBsYWNlIEltYWdlXG5cbiAgICBpZiAoaXNOb3RFbXB0eSh1cGxvYWQpICYmIGlzTm90RW1wdHkoaW1hZ2UpKSB7XG4gICAgICBhd2FpdCBkZWxldGVGaWxlKHtcbiAgICAgICAgaW1hZ2VcbiAgICAgIH0pO1xuICAgICAgaW1hZ2VVUkwgPSBhd2FpdCBwb3N0RmlsZSh7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgdXBsb2FkXG4gICAgICB9KTtcbiAgICB9IC8vIENyZWF0ZSBJbWFnZVxuXG5cbiAgICBpZiAoaXNOb3RFbXB0eSh1cGxvYWQpICYmIGlzRW1wdHkoaW1hZ2UpKSB7XG4gICAgICBpbWFnZVVSTCA9IGF3YWl0IHBvc3RGaWxlKHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB1cGxvYWRcbiAgICAgIH0pO1xuICAgIH0gLy8gQ3JlYXRlXG5cblxuICAgIGlmIChpc0VtcHR5KGlkKSkge1xuICAgICAgY29uc3QgcmVjaXBlSW5mbyA9IHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgIHByb2R1Y3QsXG4gICAgICAgIGluZ3JlZGllbnRzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgaW1hZ2U6IGltYWdlVVJMIHx8IGltYWdlXG4gICAgICB9O1xuICAgICAgY29uc3QgY3JlYXRlSWQgPSBhd2FpdCBwb3N0UmVjaXBlKHJlY2lwZUluZm8pO1xuICAgICAgYXdhaXQgZGlzcGF0Y2gobG9hZFJlY2lwZShjcmVhdGVJZCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gVXBkYXRlXG5cblxuICAgIGNvbnN0IHJlY2lwZUluZm8gPSB7XG4gICAgICBpZCxcbiAgICAgIHRpdGxlLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBwcm9kdWN0LFxuICAgICAgaW5ncmVkaWVudHMsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGltYWdlOiBpbWFnZVVSTCB8fCBpbWFnZVxuICAgIH07XG4gICAgYXdhaXQgdXBkYXRlUmVjaXBlKHJlY2lwZUluZm8pO1xuICAgIGF3YWl0IGRpc3BhdGNoKGxvYWRSZWNpcGUoaWQpKTtcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVSZWNpcGUoKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcmVjaXBlXG4gICAgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICB1c2VySWRcbiAgICB9ID0gcmVjaXBlO1xuICAgIGF3YWl0IGRlbGV0ZVJlY2lwZSh7XG4gICAgICBpZCxcbiAgICAgIHVzZXJJZFxuICAgIH0pO1xuICAgIGRpc3BhdGNoKGFjdGlvbnMuY2xlYXJSZWNpcGUoKSk7XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRmlsZSgpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICByZWNpcGU6IHtcbiAgICAgICAgaW1hZ2VcbiAgICAgIH1cbiAgICB9ID0gZ2V0U3RhdGUoKTtcblxuICAgIGlmIChpc0VtcHR5KGltYWdlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IGRlbGV0ZUZpbGUoe1xuICAgICAgaW1hZ2VcbiAgICB9KTtcbiAgICBkaXNwYXRjaChhY3Rpb25zLmNoYW5nZVJlY2lwZSh7XG4gICAgICBuYW1lOiAnaW1hZ2UnLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KSk7XG4gIH07XG59XG5leHBvcnQgY29uc3Qge1xuICBzZXRSZWNpcGUsXG4gIHNldE5ld0luZ3JlZGllbnQsXG4gIGNoYW5nZVJlY2lwZSxcbiAgY2hhbmdlSW5ncmVkaWVudCxcbiAgY2hhbmdlTmV3SW5ncmVkaWVudCxcbiAgY2xlYXJSZWNpcGUsXG4gIHJlbW92ZUluZ3JlZGllbnQsXG4gIHN3YXBJbmdyZWRpZW50c1xufSA9IGFjdGlvbnM7XG5leHBvcnQgZGVmYXVsdCByZWR1Y2VyOyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rLCB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUmVjaXBlVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlVGl0bGUnO1xuaW1wb3J0IFJlY2lwZVVzZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlVXNlcic7XG5pbXBvcnQgUmVjaXBlSW1hZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlSW1hZ2UnO1xuaW1wb3J0IFJlY2lwZUJhc2ljSW5mbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JlY2lwZS9SZWNpcGVCYXNpY0luZm8nO1xuaW1wb3J0IFJlY2lwZURlc2NyaXB0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcmVjaXBlL1JlY2lwZURlc2NyaXB0aW9uJztcbmltcG9ydCBJbmdyZWRpZW50TGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JlY2lwZS9JbmdyZWRpZW50TGlzdCc7XG5pbXBvcnQgTG9hZGluZyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9Mb2FkaW5nJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uL2xheW91dHMvUmVjaXBlJztcbmltcG9ydCB7IHJlbW92ZVJlY2lwZSwgcmVtb3ZlRmlsZSB9IGZyb20gJy4uLy4uL3JlZHV4L3JlY2lwZSc7XG5pbXBvcnQgeyB1cGRhdGVSZWNpcGVzIH0gZnJvbSAnLi4vLi4vcmVkdXgvcmVjaXBlcyc7XG5pbXBvcnQgeyBpc01hdGNoLCBpc0VtcHR5LCBpc05vdEVtcHR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jb25zdCBSZWNpcGVDb250YWluZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7XG4gICAgdXNlcixcbiAgICByZWNpcGU6IHtcbiAgICAgIGlkLFxuICAgICAgdXNlcklkLFxuICAgICAgdGl0bGUsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIHByb2R1Y3QsXG4gICAgICBpbmdyZWRpZW50cyxcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgaW1hZ2UsXG4gICAgICBjcmVhdGVkXG4gICAgfVxuICB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gKHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyLFxuICAgIHJlY2lwZTogc3RhdGUucmVjaXBlXG4gIH0pKTtcbiAgY29uc3Qgb25SZW1vdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlID0gd2luZG93LmNvbmZpcm0oJ+ugiOyLnO2UvOulvCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XG5cbiAgICBpZiAoaXNFbXB0eShlbnN1cmUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBhd2FpdCBkaXNwYXRjaChyZW1vdmVGaWxlKCkpO1xuICAgIGF3YWl0IGRpc3BhdGNoKHJlbW92ZVJlY2lwZSgpKTtcbiAgICBhd2FpdCBkaXNwYXRjaCh1cGRhdGVSZWNpcGVzKCkpO1xuICAgIGhpc3RvcnkucHVzaCgnLycpO1xuICB9LCBbZGlzcGF0Y2hdKTtcblxuICBpZiAoaXNFbXB0eShpZCkpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZVRpdGxlLCB7XG4gICAgdGl0bGU6IHRpdGxlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVVc2VyLCB7XG4gICAgdXNlcjogdXNlcklkLFxuICAgIGNyZWF0ZWQ6IGNyZWF0ZWRcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZUltYWdlLCB7XG4gICAgaW1hZ2U6IGltYWdlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVCYXNpY0luZm8sIHtcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgIHByb2R1Y3Q6IHByb2R1Y3RcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEluZ3JlZGllbnRMaXN0LCB7XG4gICAgaW5ncmVkaWVudHM6IGluZ3JlZGllbnRzXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVEZXNjcmlwdGlvbiwge1xuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICB9KSwgaXNOb3RFbXB0eSh1c2VySWQpICYmIGlzTWF0Y2godXNlcklkKSh1c2VyLnVzZXJJZCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICB0bzogYC9yZWNpcGV3cml0ZS8ke2lkfWBcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIlxuICB9LCBcIlxcdUMyMThcXHVDODE1XFx1RDU1OFxcdUFFMzBcIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uUmVtb3ZlLFxuICAgIGRpc2FibGVkOiBsb2FkaW5nXG4gIH0sIFwiXFx1QzBBRFxcdUM4MUNcXHVENTU4XFx1QUUzMFwiKSksIGxvYWRpbmcgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjaXBlQ29udGFpbmVyOyIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQYXJhbXMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFJlY2lwZUNvbnRhaW5lciBmcm9tICcuLi8uLi9jb250YWluZXJzL3JlY2lwZS9SZWNpcGVDb250YWluZXInO1xuaW1wb3J0IHsgbG9hZFJlY2lwZSwgY2xlYXJSZWNpcGUgfSBmcm9tICcuLi8uLi9yZWR1eC9yZWNpcGUnO1xuXG5jb25zdCBSZWNpcGVQYWdlID0gKHtcbiAgcGFyYW1zXG59KSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3Qge1xuICAgIGlkXG4gIH0gPSBwYXJhbXMgfHwgdXNlUGFyYW1zKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goY2xlYXJSZWNpcGUoKSk7XG4gICAgZGlzcGF0Y2gobG9hZFJlY2lwZShpZCkpO1xuICB9LCBbaWRdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZUNvbnRhaW5lciwgbnVsbCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWNpcGVQYWdlOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMYWJlbCwgSW5wdXQsIEltZywgQnV0dG9uLCBOb3RpY2UgfSBmcm9tICcuLi8uLi9sYXlvdXRzL1JlY2lwZSc7XG5pbXBvcnQgeyBpc05vdEVtcHR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jb25zdCBSZWNpcGVJbWFnZVVwbG9hZCA9ICh7XG4gIHVwbG9hZCxcbiAgaW1hZ2UsXG4gIGZpbGVJbnB1dFJlZixcbiAgb25GaWxlQ2hhbmdlLFxuICBvbkNsZWFyRmlsZSxcbiAgb25SZW1vdmVGaWxlXG59KSA9PiB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgaXNOb3RFbXB0eShpbWFnZSkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHtcbiAgICBodG1sRm9yOiBcImRpc3BsYXlJbWFnZVwiLFxuICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICB9LCBcIlxcdUM3NzRcXHVCQkY4XFx1QzlDMFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW1nLCB7XG4gICAgaWQ6IFwiZGlzcGxheUltYWdlXCIsXG4gICAgc3JjOiBpbWFnZSxcbiAgICB3aWR0aDogXCIyMDBweFwiLFxuICAgIGhlaWdodDogXCIyMDBweFwiLFxuICAgIGFsdDogXCJkaXNwbGF5SW1hZ2VcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBvblJlbW92ZUZpbGVcbiAgfSwgXCJcXHVDNzc0XFx1QkJGOFxcdUM5QzAgXFx1QzBBRFxcdUM4MUNcXHVENTU4XFx1QUUzMFwiKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwge1xuICAgIGh0bWxGb3I6IFwiaW1hZ2VcIixcbiAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgfSwgXCJcXHVCODA4XFx1QzJEQ1xcdUQ1M0MgXFx1Qzc3NFxcdUJCRjhcXHVDOUMwXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgIGlkOiBcImltYWdlXCIsXG4gICAgdHlwZTogXCJmaWxlXCIsXG4gICAgYWNjZXB0OiBcImltYWdlL2dpZiwgaW1hZ2UvanBlZywgaW1hZ2UvanBnLCBpbWFnZS9wbmdcIixcbiAgICBvbkNoYW5nZTogb25GaWxlQ2hhbmdlLFxuICAgIHJlZjogZmlsZUlucHV0UmVmXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOb3RpY2UsIG51bGwsIFwiM01CIFxcdUM3NzRcXHVENTU4IFxcdUM3NzRcXHVCQkY4XFx1QzlDMChqcGcsIGpwZWcsIHBuZywgZ2lmKVxcdUI5Q0MgXFx1QzVDNVxcdUI4NUNcXHVCNERDIFxcdUFDMDBcXHVCMkE1XFx1RDU2OVxcdUIyQzhcXHVCMkU0LlwiKSwgaXNOb3RFbXB0eSh1cGxvYWQpICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbWcsIHtcbiAgICBzcmM6IHVwbG9hZCxcbiAgICB3aWR0aDogXCIyMDBweFwiLFxuICAgIGhlaWdodDogXCIyMDBweFwiLFxuICAgIGFsdDogXCJwcmV2aWV3XCJcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xlYXJGaWxlXG4gIH0sIFwiXFx1Qzc3NFxcdUJCRjhcXHVDOUMwIFxcdUJFNDRcXHVDNkIwXFx1QUUzMFwiKSkpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhSZWNpcGVJbWFnZVVwbG9hZCk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElucHV0LCBMYWJlbCwgU3BhbiwgQnV0dG9uIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9SZWNpcGUnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgSW5ncmVkaWVudEFkZCA9ICh7XG4gIG5ld0lkLFxuICBuZXdJbmdyZWRpZW50LFxuICBOZXdJbmdyZWRpZW50UmVmLFxuICBvbkNoYW5nZU5ld0luZ3JlZGllbnQsXG4gIG9uS2V5VXBTZXROZXdJbmdyZWRpZW50LFxuICBvbkNsaWNrU2V0TmV3SW5ncmVkaWVudFxufSkgPT4ge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwge1xuICAgIHdpZHRoOiBcIjMyJVwiLFxuICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgaHRtbEZvcjogYGluZ3JlZGllbnQtJHtuZXdJZH1gXG4gIH0sIFwiXFx1QzZEMFxcdUM3QUNcXHVCOENDXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwge1xuICAgIHdpZHRoOiBcIjIwJVwiLFxuICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgaHRtbEZvcjogYHdlaWdodC0ke25ld0lkfWBcbiAgfSwgXCJcXHVDNkE5XFx1QjdDOVwiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIHtcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICBpZDogYGluZ3JlZGllbnQtJHtuZXdJZH1gLFxuICAgIG5hbWU6IGBpbmdyZWRpZW50LSR7bmV3SWR9YCxcbiAgICB2YWx1ZTogbmV3SW5ncmVkaWVudC5pbmdyZWRpZW50LFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZU5ld0luZ3JlZGllbnQsXG4gICAgb25LZXlVcDogb25LZXlVcFNldE5ld0luZ3JlZGllbnQsXG4gICAgd2lkdGg6IFwiMzAlXCIsXG4gICAgcmVmOiBOZXdJbmdyZWRpZW50UmVmXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgbWluOiBcIjBcIixcbiAgICBtYXg6IFwiMTAwMDAwMDAwMFwiLFxuICAgIGlkOiBgd2VpZ2h0LSR7bmV3SWR9YCxcbiAgICBuYW1lOiBgd2VpZ2h0LSR7bmV3SWR9YCxcbiAgICB2YWx1ZTogbmV3SW5ncmVkaWVudC53ZWlnaHQsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlTmV3SW5ncmVkaWVudCxcbiAgICBvbktleVVwOiBvbktleVVwU2V0TmV3SW5ncmVkaWVudCxcbiAgICB3aWR0aDogXCIyMCVcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3BhbiwgbnVsbCwgXCJnXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2tTZXROZXdJbmdyZWRpZW50LFxuICAgIGRpc2FibGVkOiBpc0VtcHR5KG5ld0luZ3JlZGllbnQuaW5ncmVkaWVudCkgfHwgaXNFbXB0eShuZXdJbmdyZWRpZW50LndlaWdodClcbiAgfSwgXCJcXHVDRDk0XFx1QUMwMFxcdUQ1NThcXHVBRTMwXCIpKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oSW5ncmVkaWVudEFkZCk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRpdGxlLCBJbWcsIENlbnRlciB9IGZyb20gJy4uLy4uL2xheW91dHMvUmVjaXBlJztcblxuY29uc3QgUmVjaXBlTm90Rm91bmQgPSAoKSA9PiB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDZW50ZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEltZywge1xuICAgIGlkOiBcImRpc3BsYXlJbWFnZVwiLFxuICAgIHNyYzogXCJpbWFnZXMvcGFnZV9ub3RfZm91bmQuc3ZnXCIsXG4gICAgYWx0OiBcInJlY2lwZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwgbnVsbCwgXCJcXHVENTc0XFx1QjJGOSBcXHVEMzk4XFx1Qzc3NFxcdUM5QzBcXHVCOTdDIFxcdUNDM0VcXHVDNzQ0IFxcdUMyMTggXFx1QzVDNlxcdUMyQjVcXHVCMkM4XFx1QjJFNC5cIikpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjaXBlTm90Rm91bmQ7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFJlY2lwZVRpdGxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcmVjaXBlL1JlY2lwZVRpdGxlJztcbmltcG9ydCBSZWNpcGVCYXNpY0luZm8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlQmFzaWNJbmZvJztcbmltcG9ydCBSZWNpcGVEZXNjcmlwdGlvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JlY2lwZS9SZWNpcGVEZXNjcmlwdGlvbic7XG5pbXBvcnQgUmVjaXBlSW1hZ2VVcGxvYWQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlSW1hZ2VVcGxvYWQnO1xuaW1wb3J0IEluZ3JlZGllbnRMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcmVjaXBlL0luZ3JlZGllbnRMaXN0JztcbmltcG9ydCBJbmdyZWRpZW50QWRkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcmVjaXBlL0luZ3JlZGllbnRBZGQnO1xuaW1wb3J0IFJlY2lwZU5vdEZvdW5kIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcmVjaXBlL1JlY2lwZU5vdEZvdW5kJztcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL0xvYWRpbmcnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9SZWNpcGUnO1xuaW1wb3J0IHsgc2V0TmV3SW5ncmVkaWVudCwgY2hhbmdlUmVjaXBlLCBjaGFuZ2VJbmdyZWRpZW50LCBjaGFuZ2VOZXdJbmdyZWRpZW50LCByZW1vdmVJbmdyZWRpZW50LCBzd2FwSW5ncmVkaWVudHMsIHdyaXRlUmVjaXBlLCByZW1vdmVSZWNpcGUsIHJlbW92ZUZpbGUgfSBmcm9tICcuLi8uLi9yZWR1eC9yZWNpcGUnO1xuaW1wb3J0IHsgdXBkYXRlUmVjaXBlcyB9IGZyb20gJy4uLy4uL3JlZHV4L3JlY2lwZXMnO1xuaW1wb3J0IHsgaXNNYXRjaCwgaXNFbXB0eSwgaXNOb3RFbXB0eSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgUmVjaXBlV3JpdGVDb250YWluZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgTmV3SW5ncmVkaWVudFJlZiA9IHVzZVJlZigpO1xuICBjb25zdCB7XG4gICAgdXNlcixcbiAgICByZWNpcGU6IHtcbiAgICAgIGlkLFxuICAgICAgdXNlcklkLFxuICAgICAgdGl0bGUsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIHByb2R1Y3QsXG4gICAgICBpbmdyZWRpZW50cyxcbiAgICAgIG5ld0luZ3JlZGllbnQsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIHVwbG9hZCxcbiAgICAgIGltYWdlXG4gICAgfVxuICB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gKHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyLFxuICAgIHJlY2lwZTogc3RhdGUucmVjaXBlXG4gIH0pKTtcbiAgY29uc3Qgb25DaGFuZ2VSZWNpcGUgPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlXG4gICAgfSA9IGV2ZW50LnRhcmdldDtcbiAgICBkaXNwYXRjaChjaGFuZ2VSZWNpcGUoe1xuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlXG4gICAgfSkpO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgY29uc3Qgb25DaGFuZ2VJbmdyZWRpZW50ID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBldmVudC50YXJnZXQ7XG4gICAgZGlzcGF0Y2goY2hhbmdlSW5ncmVkaWVudCh7XG4gICAgICBuYW1lLFxuICAgICAgdmFsdWVcbiAgICB9KSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICBjb25zdCBvbkNoYW5nZU5ld0luZ3JlZGllbnQgPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlXG4gICAgfSA9IGV2ZW50LnRhcmdldDtcbiAgICBkaXNwYXRjaChjaGFuZ2VOZXdJbmdyZWRpZW50KHtcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZVxuICAgIH0pKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIGNvbnN0IG9uUmVtb3ZlSW5ncmVkaWVudCA9IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB2YWx1ZVxuICAgIH0gPSBldmVudC50YXJnZXQ7XG4gICAgZGlzcGF0Y2gocmVtb3ZlSW5ncmVkaWVudCh7XG4gICAgICB2YWx1ZVxuICAgIH0pKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIGNvbnN0IG9uS2V5VXBTZXROZXdJbmdyZWRpZW50ID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGlmIChpc0VtcHR5KG5ld0luZ3JlZGllbnQuaW5ncmVkaWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFbXB0eShuZXdJbmdyZWRpZW50LndlaWdodCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXRjaChldmVudC5rZXkpKCdFbnRlcicpKSB7XG4gICAgICBkaXNwYXRjaChzZXROZXdJbmdyZWRpZW50KHtcbiAgICAgICAgZmllbGRzOiBuZXdJbmdyZWRpZW50XG4gICAgICB9KSk7XG4gICAgICBOZXdJbmdyZWRpZW50UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgbmV3SW5ncmVkaWVudF0pO1xuICBjb25zdCBvbkNsaWNrU2V0TmV3SW5ncmVkaWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaChzZXROZXdJbmdyZWRpZW50KHtcbiAgICAgIGZpZWxkczogbmV3SW5ncmVkaWVudFxuICAgIH0pKTtcbiAgICBOZXdJbmdyZWRpZW50UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgfSwgW2Rpc3BhdGNoLCBuZXdJbmdyZWRpZW50XSk7XG4gIGNvbnN0IG9uRHJhZ0VuZEluZ3JlZGllbnQgPSB1c2VDYWxsYmFjayhyZXN1bHQgPT4ge1xuICAgIGNvbnN0IG9yaWdpbkluZGV4ID0gcmVzdWx0LnNvdXJjZS5pbmRleCB8fCAwO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uSW5kZXggPSByZXN1bHQuZGVzdGluYXRpb24uaW5kZXggfHwgMDtcbiAgICBkaXNwYXRjaChzd2FwSW5ncmVkaWVudHMoe1xuICAgICAgb3JpZ2luSW5kZXgsXG4gICAgICBkZXN0aW5hdGlvbkluZGV4XG4gICAgfSkpO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgY29uc3Qgb25TdWJtaXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzRW1wdHkodGl0bGUudHJpbSgpKSkge1xuICAgICAgYWxlcnQoJ+ygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzRW1wdHkoY2F0ZWdvcnkpKSB7XG4gICAgICBhbGVydCgn7Lm07YWM6rOg66as66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFbXB0eShwcm9kdWN0KSkge1xuICAgICAgYWxlcnQoJ+yDneyCsOufieydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzRW1wdHkoZGVzY3JpcHRpb24udHJpbSgpKSkge1xuICAgICAgYWxlcnQoJ+unjOuTnOuKlCDrsKnrspXsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgYXdhaXQgZGlzcGF0Y2god3JpdGVSZWNpcGUoKSk7XG4gICAgYXdhaXQgZGlzcGF0Y2godXBkYXRlUmVjaXBlcygpKTtcblxuICAgIGlmIChpc0VtcHR5KGlkKSkge1xuICAgICAgaGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGlzdG9yeS5wdXNoKGAvcmVjaXBlLyR7aWR9YCk7XG4gIH0sIFtkaXNwYXRjaCwgdGl0bGUsIGNhdGVnb3J5LCBwcm9kdWN0LCBkZXNjcmlwdGlvbiwgaWRdKTtcbiAgY29uc3Qgb25SZW1vdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlID0gd2luZG93LmNvbmZpcm0oJ+ugiOyLnO2UvOulvCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XG5cbiAgICBpZiAoaXNFbXB0eShlbnN1cmUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBhd2FpdCBkaXNwYXRjaChyZW1vdmVGaWxlKCkpO1xuICAgIGF3YWl0IGRpc3BhdGNoKHJlbW92ZVJlY2lwZSgpKTtcbiAgICBhd2FpdCBkaXNwYXRjaCh1cGRhdGVSZWNpcGVzKCkpO1xuICAgIGhpc3RvcnkucHVzaCgnLycpO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgY29uc3Qgb25GaWxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICBmaWxlc1xuICAgICAgfVxuICAgIH0gPSBldmVudDtcbiAgICBjb25zdCB0aGVGaWxlID0gZmlsZXNbMF07XG4gICAgY29uc3QgbGltaXQzTUIgPSAzICogMTAyNCAqIDEwMjQ7XG5cbiAgICBpZiAoaXNFbXB0eSh0aGVGaWxlKSB8fCB0aGVGaWxlLnNpemUgPiBsaW1pdDNNQikge1xuICAgICAgYWxlcnQoJzNNQiDsnbTtlZjsnZgg7J2066+47KeA66eMIOyXheuhnOuTnCDqsIDriqXtlanri4jri6QuJyk7XG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICByZWFkZXIub25sb2FkZW5kID0gZmluaXNoZWRFdmVudCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHRcbiAgICAgICAgfVxuICAgICAgfSA9IGZpbmlzaGVkRXZlbnQ7XG4gICAgICBkaXNwYXRjaChjaGFuZ2VSZWNpcGUoe1xuICAgICAgICBuYW1lOiAndXBsb2FkJyxcbiAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgfSkpO1xuICAgIH07XG5cbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGVGaWxlKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIGNvbnN0IG9uQ2xlYXJGaWxlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKGNoYW5nZVJlY2lwZSh7XG4gICAgICBuYW1lOiAndXBsb2FkJyxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSkpO1xuICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICBjb25zdCBvblJlbW92ZUZpbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBhd2FpdCBkaXNwYXRjaChyZW1vdmVGaWxlKCkpO1xuICAgIGF3YWl0IGRpc3BhdGNoKHdyaXRlUmVjaXBlKCkpO1xuICAgIGF3YWl0IGRpc3BhdGNoKHVwZGF0ZVJlY2lwZXMoKSk7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIGNvbnN0IGlzTm90V3JpdGVBZGQgPSB1c2VDYWxsYmFjayh1c2VyVXNlcklkID0+IHJlY2lwZUlkID0+IHJlY2lwZVVzZXJJZCA9PiB7XG4gICAgaWYgKGlzTm90RW1wdHkodXNlclVzZXJJZCkgJiYgaXNFbXB0eShyZWNpcGVJZCkgJiYgaXNFbXB0eShyZWNpcGVVc2VySWQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sIFtdKTtcbiAgY29uc3QgaXNOb3RXcml0ZVVwZGF0ZSA9IHVzZUNhbGxiYWNrKHVzZXJVc2VySWQgPT4gcmVjaXBlSWQgPT4gcmVjaXBlVXNlcklkID0+IHtcbiAgICBpZiAoaXNOb3RFbXB0eSh1c2VyVXNlcklkKSAmJiBpc05vdEVtcHR5KHJlY2lwZUlkKSAmJiBpc01hdGNoKHVzZXJVc2VySWQpKHJlY2lwZVVzZXJJZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSwgW10pO1xuXG4gIGlmIChpc05vdFdyaXRlQWRkKHVzZXIudXNlcklkKShpZCkodXNlcklkKSAmJiBpc05vdFdyaXRlVXBkYXRlKHVzZXIudXNlcklkKShpZCkodXNlcklkKSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVOb3RGb3VuZCwgbnVsbCk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZVRpdGxlLCB7XG4gICAgdGl0bGU6IGlzRW1wdHkodXNlcklkKSA/ICfroIjsi5ztlLwg7KCc7J6RJyA6IGAke3RpdGxlfSDtjrjsp5FgXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVCYXNpY0luZm8sIHtcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgIHByb2R1Y3Q6IHByb2R1Y3QsXG4gICAgb25DaGFuZ2VSZWNpcGU6IG9uQ2hhbmdlUmVjaXBlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbmdyZWRpZW50QWRkLCB7XG4gICAgbmV3SWQ6IGluZ3JlZGllbnRzLmxlbmd0aCArIDEsXG4gICAgbmV3SW5ncmVkaWVudDogbmV3SW5ncmVkaWVudCxcbiAgICBOZXdJbmdyZWRpZW50UmVmOiBOZXdJbmdyZWRpZW50UmVmLFxuICAgIG9uQ2hhbmdlTmV3SW5ncmVkaWVudDogb25DaGFuZ2VOZXdJbmdyZWRpZW50LFxuICAgIG9uS2V5VXBTZXROZXdJbmdyZWRpZW50OiBvbktleVVwU2V0TmV3SW5ncmVkaWVudCxcbiAgICBvbkNsaWNrU2V0TmV3SW5ncmVkaWVudDogb25DbGlja1NldE5ld0luZ3JlZGllbnRcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEluZ3JlZGllbnRMaXN0LCB7XG4gICAgaW5ncmVkaWVudHM6IGluZ3JlZGllbnRzLFxuICAgIG9uQ2hhbmdlSW5ncmVkaWVudDogb25DaGFuZ2VJbmdyZWRpZW50LFxuICAgIG9uUmVtb3ZlSW5ncmVkaWVudDogb25SZW1vdmVJbmdyZWRpZW50LFxuICAgIG9uRHJhZ0VuZEluZ3JlZGllbnQ6IG9uRHJhZ0VuZEluZ3JlZGllbnRcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZURlc2NyaXB0aW9uLCB7XG4gICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgIG9uQ2hhbmdlUmVjaXBlOiBvbkNoYW5nZVJlY2lwZVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBlSW1hZ2VVcGxvYWQsIHtcbiAgICB1cGxvYWQ6IHVwbG9hZCxcbiAgICBpbWFnZTogaW1hZ2UsXG4gICAgZmlsZUlucHV0UmVmOiBmaWxlSW5wdXRSZWYsXG4gICAgb25GaWxlQ2hhbmdlOiBvbkZpbGVDaGFuZ2UsXG4gICAgb25DbGVhckZpbGU6IG9uQ2xlYXJGaWxlLFxuICAgIG9uUmVtb3ZlRmlsZTogb25SZW1vdmVGaWxlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBvblN1Ym1pdCxcbiAgICBkaXNhYmxlZDogbG9hZGluZyB8fCBpc0VtcHR5KHRpdGxlLnRyaW0oKSkgfHwgaXNFbXB0eShjYXRlZ29yeSkgfHwgaXNFbXB0eShwcm9kdWN0KSB8fCBpc0VtcHR5KGRlc2NyaXB0aW9uLnRyaW0oKSlcbiAgfSwgaXNFbXB0eSh1c2VySWQpID8gJ+yggOyepe2VmOq4sCcgOiAn7IiY7KCV7JmE66OMJyksIGlzTm90RW1wdHkodXNlcklkKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uUmVtb3ZlLFxuICAgIGRpc2FibGVkOiBsb2FkaW5nXG4gIH0sIFwiXFx1QzBBRFxcdUM4MUNcXHVENTU4XFx1QUUzMFwiKSksIGxvYWRpbmcgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjaXBlV3JpdGVDb250YWluZXI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUmVjaXBlV3JpdGVDb250YWluZXIgZnJvbSAnLi4vLi4vY29udGFpbmVycy9yZWNpcGUvUmVjaXBlV3JpdGVDb250YWluZXInO1xuaW1wb3J0IHsgbG9hZFJlY2lwZSwgY2xlYXJSZWNpcGUgfSBmcm9tICcuLi8uLi9yZWR1eC9yZWNpcGUnO1xuXG5jb25zdCBSZWNpcGVXcml0ZVBhZ2UgPSAoe1xuICBwYXJhbXNcbn0pID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCB7XG4gICAgaWRcbiAgfSA9IHBhcmFtcyB8fCB1c2VQYXJhbXMoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChjbGVhclJlY2lwZSgpKTtcbiAgICBkaXNwYXRjaChsb2FkUmVjaXBlKGlkKSk7XG4gIH0sIFtpZF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBlV3JpdGVDb250YWluZXIsIG51bGwpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjaXBlV3JpdGVQYWdlOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVjaXBlTm90Rm91bmQgZnJvbSAnLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlTm90Rm91bmQnO1xuXG5jb25zdCBSZWNpcGU0MDRQYWdlID0gKCkgPT4ge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBlTm90Rm91bmQsIG51bGwpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVjaXBlNDA0UGFnZTsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5jb25zdCBDaGF0Qm94ID0gc3R5bGVkLmFydGljbGVgXG4gIG1hcmdpbjogMCBhdXRvO1xuICAvKiB0ZXh0LWFsaWduOiBjZW50ZXI7ICovXG4gIG1heC13aWR0aDogNjAwcHg7XG4gIG1pbi1oZWlnaHQ6IDgwdmg7XG4gIG1heC1oZWlnaHQ6IDEwMHZoO1xuYDtcbmNvbnN0IENoYXRNZXNzYWdlSXRlbXMgPSBzdHlsZWQudWxgXG4gIG1pbi1oZWlnaHQ6IDcwdmg7XG4gIG1heC1oZWlnaHQ6IDkwdmg7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG4gIHBhZGRpbmc6IDIwcHggMjBweCAxMHB4IDIwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhlZjtcblxuICAuY29udGludWVNZXNzYWdlIHtcbiAgICBtYXJnaW4tdG9wOiAtOXB4O1xuICB9XG5gO1xuY29uc3QgQ2hhdE1lc3NhZ2VJdGVtID0gc3R5bGVkLmxpYFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuXG4gIGRpdiB7XG4gICAgZGlzcGxheTppbmxpbmUtZmxleDtcbiAgfVxuXG4gIGRpdiA+IGRpdiB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICBkaXYgPiBpbWcge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiA0MHB4O1xuICAgIGhlaWdodDogNDBweDtcbiAgICBtYXJnaW46IDJweCA1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB9XG5cbiAgLmhpZGRlbiB7XG4gICAgd2lkdGg6IDUwcHg7XG4gIH1cblxuICBkaXYgPiBzcGFuIHtcbiAgICBmb250LXNpemU6IDEuMXJlbTtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICB9XG5cbiAgZGl2ID4gcCB7XG4gICAgZm9udC1zaXplOiAxcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgYm9yZGVyLXJhZGl1czogMjVweCAyNXB4IDI1cHggMHB4O1xuICAgIHBhZGRpbmc6IDEwcHggMTVweCAxMHB4IDE1cHg7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIGJhY2tncm91bmQ6ICNlNWU1ZWE7XG4gIH1cbmA7XG5jb25zdCBNeUNoYXRNZXNzYWdlSXRlbSA9IHN0eWxlZC5saWBcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcblxuICBkaXYge1xuICAgIGRpc3BsYXk6aW5saW5lLWZsZXg7XG4gIH1cblxuICBkaXYgPiBkaXYge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5cbiAgZGl2ID4gaW1nIHtcbiAgICB3aWR0aDogNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgbWFyZ2luOiAycHggNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuXG4gIC5oaWRkZW4ge1xuICAgIHdpZHRoOiA1MHB4O1xuICB9XG5cbiAgZGl2ID4gc3BhbiB7XG4gICAgZm9udC1zaXplOiAxLjFyZW07XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgfVxuXG4gIGRpdiA+IHAge1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDI1cHggMjVweCAwcHggMjVweDtcbiAgICBwYWRkaW5nOiAxMHB4IDE1cHggMTBweCAxNXB4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBiYWNrZ3JvdW5kOiAjMDk5NGY2O1xuICB9XG5gO1xuY29uc3QgTWVzc2FnZUJveCA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbmA7XG5jb25zdCBNZXNzYWdlSW5wdXQgPSBzdHlsZWQuaW5wdXRgXG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZTVlN2ViO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlN2ViO1xuICB3aWR0aDogODAlO1xuICBoZWlnaHQ6IDI0cHg7XG4gIHBhZGRpbmc6IDFyZW07XG5gO1xuY29uc3QgU2VuZEJ1dHRvbiA9IHN0eWxlZC5idXR0b25gXG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xuICB3aWR0aDogMjAlO1xuICBoZWlnaHQ6IDYwcHg7XG4gIHBhZGRpbmc6IDFyZW07XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogMC41cztcbiAgb3BhY2l0eTogMC44O1xuICBcbiAgOmRpc2FibGVkIHtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgIG9wYWNpdHk6IDAuMjtcbiAgfVxuXG4gIDpob3ZlcjplbmFibGVkIHtcbiAgICBvcGFjaXR5OiAxLjA7XG4gICAgdHJhbnNpdGlvbjogMC41cztcbiAgfVxuYDtcbmV4cG9ydCB7IENoYXRCb3gsIENoYXRNZXNzYWdlSXRlbXMsIENoYXRNZXNzYWdlSXRlbSwgTXlDaGF0TWVzc2FnZUl0ZW0sIE1lc3NhZ2VCb3gsIE1lc3NhZ2VJbnB1dCwgU2VuZEJ1dHRvbiB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZUl0ZW0sIE15Q2hhdE1lc3NhZ2VJdGVtIH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9jaGF0L0NoYXQnO1xuaW1wb3J0IHsgaXNNYXRjaCwgaXNOb3RNYXRjaCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgQ2hhdE1lc3NhZ2UgPSAoe1xuICBjaGF0LFxuICBvd25lcixcbiAgcHJlVXNlclxufSkgPT4ge1xuICBpZiAoaXNNYXRjaChjaGF0LnVzZXIpKG93bmVyKSAmJiBpc05vdE1hdGNoKGNoYXQudXNlcikocHJlVXNlcikpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTXlDaGF0TWVzc2FnZUl0ZW0sIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBjaGF0LnVzZXIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgY2hhdC5tZXNzYWdlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgIHNyYzogXCJpbWFnZXMvdXNlci1zb2xpZC1jaXJjbGUuc3ZnXCIsXG4gICAgICBhbHQ6IFwiVXNlclwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIGlmIChpc01hdGNoKGNoYXQudXNlcikob3duZXIpICYmIGlzTWF0Y2goY2hhdC51c2VyKShwcmVVc2VyKSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNeUNoYXRNZXNzYWdlSXRlbSwge1xuICAgICAgY2xhc3NOYW1lOiBcImNvbnRpbnVlTWVzc2FnZVwiXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIGNoYXQubWVzc2FnZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImhpZGRlblwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIGlmIChpc05vdE1hdGNoKGNoYXQudXNlcikob3duZXIpICYmIGlzTWF0Y2goY2hhdC51c2VyKShwcmVVc2VyKSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGF0TWVzc2FnZUl0ZW0sIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjb250aW51ZU1lc3NhZ2VcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiaGlkZGVuXCJcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIGNoYXQubWVzc2FnZSkpKSk7XG4gIH0gLy8gWFhYIExBU1QgQ0FTRTogaXNOb3RNYXRjaChjaGF0LnVzZXIpKG93bmVyKSAmJiBpc05vdE1hdGNoKGNoYXQudXNlcikocHJlVXNlcilcblxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGF0TWVzc2FnZUl0ZW0sIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICBzcmM6IFwiaW1hZ2VzL3VzZXItc29saWQtY2lyY2xlLnN2Z1wiLFxuICAgIGFsdDogXCJVc2VyXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBjaGF0LnVzZXIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgY2hhdC5tZXNzYWdlKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKENoYXRNZXNzYWdlKTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYXRNZXNzYWdlIGZyb20gJy4vQ2hhdE1lc3NhZ2UnO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2VJdGVtcyB9IGZyb20gJy4uLy4uL2xheW91dHMvY2hhdC9DaGF0JztcbmltcG9ydCB7IGlzTm90RW1wdHksIGlzTm90QXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IENoYXRNZXNzYWdlTGlzdCA9ICh7XG4gIGNoYXRMaXN0LFxuICBvd25lcixcbiAgbGFzdENoYXRcbn0pID0+IHtcbiAgaWYgKGlzTm90QXJyYXkoY2hhdExpc3QpKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsKTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGFzdENoYXQuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hhdE1lc3NhZ2VJdGVtcywgbnVsbCwgaXNOb3RFbXB0eShjaGF0TGlzdC5sZW5ndGgpICYmIGNoYXRMaXN0Lm1hcCgoY2hhdCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBwcmVVc2VyID0gaW5kZXggPyBjaGF0TGlzdFtpbmRleCAtIDFdLnVzZXIgOiAnJztcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hhdE1lc3NhZ2UsIHtcbiAgICAgIGtleTogY2hhdC5jcmVhdGVkLFxuICAgICAgY2hhdDogY2hhdCxcbiAgICAgIG93bmVyOiBvd25lcixcbiAgICAgIHByZVVzZXI6IHByZVVzZXJcbiAgICB9KTtcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IGxhc3RDaGF0XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKENoYXRNZXNzYWdlTGlzdCk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1lc3NhZ2VCb3gsIE1lc3NhZ2VJbnB1dCwgU2VuZEJ1dHRvbiB9IGZyb20gJy4uLy4uL2xheW91dHMvY2hhdC9DaGF0JztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmNvbnN0IENoYXRNZXNzYWdlV3JpdGVCb3ggPSAoe1xuICBtZXNzYWdlLFxuICBvbkNoYW5nZU1lc3NhZ2UsXG4gIG9uS2V5UHJlc3NNZXNzYWdlLFxuICBvblN1Ym1pdFxufSkgPT4ge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVzc2FnZUJveCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVzc2FnZUlucHV0LCB7XG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgbmFtZTogXCJtZXNzYWdlXCIsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlTWVzc2FnZSAvLyBvbktleVVwPXtvbktleVVwTWVzc2FnZX1cbiAgICAsXG4gICAgb25LZXlQcmVzczogb25LZXlQcmVzc01lc3NhZ2UsXG4gICAgcGxhY2Vob2xkZXI6IFwiXFx1QkE1NFxcdUMyRENcXHVDOUMwXFx1Qjk3QyBcXHVDNzg1XFx1QjgyNVxcdUQ1NThcXHVDMTM4XFx1QzY5NFwiLFxuICAgIHZhbHVlOiBtZXNzYWdlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZW5kQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBvblN1Ym1pdCxcbiAgICBkaXNhYmxlZDogaXNFbXB0eShtZXNzYWdlKVxuICB9LCBcIlNlbmRcIikpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oQ2hhdE1lc3NhZ2VXcml0ZUJveCk7IiwiaW1wb3J0IHsgZGIsIGF1dGgsIGZpcmVTdG9yZSB9IGZyb20gJy4vZmlyZWJhc2UnO1xuaW1wb3J0IHsgaXNOb3RFbXB0eSwgZ2V0Rmlyc3RTcGxpdCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE1lc3NhZ2VzKCkge1xuICBjb25zdCBjaGF0UmVmID0gZGIuY29sbGVjdGlvbignbWVzc2FnZXMnKTtcbiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBjaGF0UmVmLm9yZGVyQnkoJ2NyZWF0ZWQnKS5nZXQoKTtcbiAgcmV0dXJuIHNuYXBzaG90LmRvY3M7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9zdE1lc3NhZ2UoY2hhdCkge1xuICBjb25zdCB7XG4gICAgY3VycmVudFVzZXI6IHtcbiAgICAgIGVtYWlsXG4gICAgfVxuICB9ID0gYXV0aDtcblxuICBpZiAoaXNOb3RFbXB0eShlbWFpbCkpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZFxuICAgIH0gPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLmFkZCh7XG4gICAgICB1c2VyOiBnZXRGaXJzdFNwbGl0KGVtYWlsKSgnQCcpLFxuICAgICAgbWVzc2FnZTogY2hhdC5tZXNzYWdlLFxuICAgICAgY3JlYXRlZDogZmlyZVN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksXG4gICAgICBzaG93OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59IiwiaW1wb3J0IHsgY3JlYXRlU2xpY2UgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCB7IGZldGNoTWVzc2FnZXMsIHBvc3RNZXNzYWdlIH0gZnJvbSAnLi4vc2VydmljZXMvbWVzc2FnZXMnO1xuaW1wb3J0IHsgaXNFbXB0eSwgZm9ybWF0TWVzc2FnZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgY2hhdExpc3Q6IFtdLFxuICBtZXNzYWdlOiAnJ1xufTtcbmNvbnN0IHtcbiAgYWN0aW9ucyxcbiAgcmVkdWNlclxufSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogJ2NoYXQnLFxuICBpbml0aWFsU3RhdGUsXG4gIHJlZHVjZXJzOiB7XG4gICAgc2V0Q2hhdExpc3Qoc3RhdGUsIHtcbiAgICAgIHBheWxvYWRcbiAgICB9KSB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgY2hhdExpc3Q6IFsuLi5wYXlsb2FkXVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgY2hhbmdlTWVzc2FnZShzdGF0ZSwge1xuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZVxuICAgICAgfVxuICAgIH0pIHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICBbbmFtZV06IHZhbHVlXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBjbGVhck1lc3NhZ2Uoc3RhdGUpIHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICBtZXNzYWdlOiAnJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgfVxufSk7XG5leHBvcnQgZnVuY3Rpb24gbG9hZE1lc3NhZ2VzKCkge1xuICByZXR1cm4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hNZXNzYWdlcygpO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVzcG9uc2UubWFwKGRvYyA9PiBmb3JtYXRNZXNzYWdlKGRvYykpO1xuICAgIGRpc3BhdGNoKGFjdGlvbnMuc2V0Q2hhdExpc3QobWVzc2FnZXMpKTtcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZU1lc3NhZ2UoKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdXNlcjoge1xuICAgICAgICB1c2VySWRcbiAgICAgIH0sXG4gICAgICBjaGF0OiB7XG4gICAgICAgIG1lc3NhZ2VcbiAgICAgIH1cbiAgICB9ID0gZ2V0U3RhdGUoKTtcblxuICAgIGlmIChpc0VtcHR5KHVzZXJJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCBwb3N0TWVzc2FnZSh7XG4gICAgICB1c2VySWQsXG4gICAgICBtZXNzYWdlXG4gICAgfSk7XG4gICAgYXdhaXQgZGlzcGF0Y2goYWN0aW9ucy5jbGVhck1lc3NhZ2UoKSk7XG4gICAgYXdhaXQgZGlzcGF0Y2gobG9hZE1lc3NhZ2VzKCkpO1xuICB9O1xufVxuZXhwb3J0IGNvbnN0IHtcbiAgc2V0Q2hhdExpc3QsXG4gIGNoYW5nZU1lc3NhZ2Vcbn0gPSBhY3Rpb25zO1xuZXhwb3J0IGRlZmF1bHQgcmVkdWNlcjsiLCIvKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2hhdE1lc3NhZ2VMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2hhdC9DaGF0TWVzc2FnZUxpc3QnO1xuaW1wb3J0IENoYXRNZXNzYWdlV3JpdGVCb3ggZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jaGF0L0NoYXRNZXNzYWdlV3JpdGVCb3gnO1xuaW1wb3J0IExvYWRpbmcgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb21tb24vTG9hZGluZyc7XG5pbXBvcnQgUmVjaXBlTm90Rm91bmQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9yZWNpcGUvUmVjaXBlTm90Rm91bmQnO1xuaW1wb3J0IHsgQ2hhdEJveCB9IGZyb20gJy4uLy4uL2xheW91dHMvY2hhdC9DaGF0JztcbmltcG9ydCB7IGNoYW5nZU1lc3NhZ2UsIHdyaXRlTWVzc2FnZSB9IGZyb20gJy4uLy4uL3JlZHV4L2NoYXQnO1xuaW1wb3J0IHsgaXNFbXB0eSwgaXNNYXRjaCwgaXNOb3RFbXB0eSwgZ2V0Rmlyc3RTcGxpdCwgaXNMZXNzVGhlbiwgaXNHcmVhdGVyVGhlbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3QgQ2hhdENvbnRhaW5lciA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBsYXN0Q2hhdCA9IHVzZVJlZigpO1xuICBjb25zdCBbbG9hZGluZ1RpbWUsIHNldExvYWRpbmdUaW1lXSA9IHVzZVN0YXRlKDApO1xuXG4gIGNvbnN0IGNoZWNrQ3VycmVudFNlY29uZCA9IHZhbHVlID0+IGlzTWF0Y2gobG9hZGluZ1RpbWUpKHZhbHVlKTtcblxuICBjb25zdCBpc0xlc3NUaGVuRml2ZVNlY29uZCA9IHZhbHVlID0+IGlzTGVzc1RoZW4oNSkodmFsdWUpO1xuXG4gIGNvbnN0IGlzR3JlYXRlclRoZW5GaXZlU2Vjb25kID0gdmFsdWUgPT4gaXNHcmVhdGVyVGhlbig1KSh2YWx1ZSk7XG5cbiAgY29uc3Qge1xuICAgIHVzZXI6IHtcbiAgICAgIHVzZXJJZFxuICAgIH0sXG4gICAgY2hhdDoge1xuICAgICAgY2hhdExpc3QsXG4gICAgICBtZXNzYWdlXG4gICAgfVxuICB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gKHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyLFxuICAgIGNoYXQ6IHN0YXRlLmNoYXRcbiAgfSkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFhYWCBDQVNFOiBUZXJtaW5hdGUgU2VxdWVuY2UgKFJlc3VsdDogTG9hZGluZyBGYWlsZWQpXG4gICAgaWYgKGNoZWNrQ3VycmVudFNlY29uZCgtMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFhYWCBDQVNFOiBMb2FkaW5nIEZhaWxlZFxuXG5cbiAgICBpZiAoaXNHcmVhdGVyVGhlbkZpdmVTZWNvbmQobG9hZGluZ1RpbWUpICYmIGlzRW1wdHkodXNlcklkKSkge1xuICAgICAgc2V0TG9hZGluZ1RpbWUoLTEpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gWFhYIENBU0U6IExvYWRpbmcgU3VjY2Vzc1xuXG5cbiAgICBpZiAoaXNMZXNzVGhlbkZpdmVTZWNvbmQobG9hZGluZ1RpbWUpICYmIGlzTm90RW1wdHkodXNlcklkKSkge1xuICAgICAgc2V0TG9hZGluZ1RpbWUoMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0TG9hZGluZ1RpbWUobG9hZGluZ1RpbWUgKyAxKSwgMTAwMCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgfSwgW3VzZXJJZCwgbG9hZGluZ1RpbWVdKTtcbiAgY29uc3Qgb3duZXIgPSBnZXRGaXJzdFNwbGl0KHVzZXJJZCkoJ0AnKTtcbiAgY29uc3Qgb25DaGFuZ2VNZXNzYWdlID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBldmVudC50YXJnZXQ7XG4gICAgZGlzcGF0Y2goY2hhbmdlTWVzc2FnZSh7XG4gICAgICBuYW1lLFxuICAgICAgdmFsdWVcbiAgICB9KSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICBjb25zdCBvbktleVByZXNzTWVzc2FnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIGV2ZW50ID0+IHtcbiAgICBpZiAoaXNFbXB0eShtZXNzYWdlLnRyaW0oKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXRjaChldmVudC5rZXkpKCdFbnRlcicpKSB7XG4gICAgICBhd2FpdCBkaXNwYXRjaCh3cml0ZU1lc3NhZ2UoKSk7XG4gICAgICBsYXN0Q2hhdC5jdXJyZW50LnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgbWVzc2FnZV0pO1xuICBjb25zdCBvblN1Ym1pdCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNFbXB0eShtZXNzYWdlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IGRpc3BhdGNoKHdyaXRlTWVzc2FnZSgpKTtcbiAgICBsYXN0Q2hhdC5jdXJyZW50LnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2gsIG1lc3NhZ2VdKTtcblxuICBpZiAoaXNFbXB0eSh1c2VySWQpICYmIGlzTWF0Y2gobG9hZGluZ1RpbWUpKC0xKSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVOb3RGb3VuZCwgbnVsbCk7XG4gIH1cblxuICBpZiAoaXNFbXB0eSh1c2VySWQpKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmcsIG51bGwpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENoYXRCb3gsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENoYXRNZXNzYWdlTGlzdCwge1xuICAgIGNoYXRMaXN0OiBjaGF0TGlzdCxcbiAgICBvd25lcjogb3duZXIsXG4gICAgbGFzdENoYXQ6IGxhc3RDaGF0XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGF0TWVzc2FnZVdyaXRlQm94LCB7XG4gICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICBvbkNoYW5nZU1lc3NhZ2U6IG9uQ2hhbmdlTWVzc2FnZSxcbiAgICBvbktleVByZXNzTWVzc2FnZTogb25LZXlQcmVzc01lc3NhZ2UsXG4gICAgb25TdWJtaXQ6IG9uU3VibWl0XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRDb250YWluZXI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IENoYXRDb250YWluZXIgZnJvbSAnLi4vLi4vY29udGFpbmVycy9jaGF0L0NoYXRDb250YWluZXInO1xuaW1wb3J0IHsgbG9hZE1lc3NhZ2VzIH0gZnJvbSAnLi4vLi4vcmVkdXgvY2hhdCc7XG5pbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2ZpcmViYXNlJztcblxuY29uc3QgQ2hhdFBhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChsb2FkTWVzc2FnZXMoKSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjaGF0UmVmID0gZGIuY29sbGVjdGlvbignbWVzc2FnZXMnKTtcbiAgICBjaGF0UmVmLm9yZGVyQnkoJ2NyZWF0ZWQnKS5vblNuYXBzaG90KCgpID0+IHtcbiAgICAgIGRpc3BhdGNoKGxvYWRNZXNzYWdlcygpKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENoYXRDb250YWluZXIsIG51bGwpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRQYWdlOyIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3dpdGNoLCBSb3V0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBzZXNzaW9uTG9naW5DaGVjayB9IGZyb20gJy4vcmVkdXgvdXNlcic7IC8vIGltcG9ydCBMb2FkaW5nIGZyb20gJy4vY29tcG9uZW50cy9jb21tb24vTG9hZGluZyc7XG5cbmltcG9ydCBNYWluIGZyb20gJy4vbGF5b3V0cy9NYWluJzsgLy8gY29uc3QgSGVhZGVyQ29udGFpbmVyID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vY29udGFpbmVycy9jb21tb24vSGVhZGVyQ29udGFpbmVyJykpO1xuLy8gY29uc3QgUmVjaXBlc1BhZ2UgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9yZWNpcGUvUmVjaXBlc1BhZ2UnKSk7XG4vLyBjb25zdCBSZWNpcGVQYWdlID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvcmVjaXBlL1JlY2lwZVBhZ2UnKSk7XG4vLyBjb25zdCBSZWNpcGVXcml0ZVBhZ2UgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9yZWNpcGUvUmVjaXBlV3JpdGVQYWdlJykpO1xuLy8gY29uc3QgUmVjaXBlNDA0UGFnZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL1JlY2lwZTQwNFBhZ2UnKSk7XG4vLyBjb25zdCBDaGF0UGFnZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2NoYXQvQ2hhdFBhZ2UnKSk7XG5cbmltcG9ydCBIZWFkZXJDb250YWluZXIgZnJvbSAnLi9jb250YWluZXJzL2NvbW1vbi9IZWFkZXJDb250YWluZXInO1xuaW1wb3J0IFJlY2lwZXNQYWdlIGZyb20gJy4vcGFnZXMvcmVjaXBlL1JlY2lwZXNQYWdlJztcbmltcG9ydCBSZWNpcGVQYWdlIGZyb20gJy4vcGFnZXMvcmVjaXBlL1JlY2lwZVBhZ2UnO1xuaW1wb3J0IFJlY2lwZVdyaXRlUGFnZSBmcm9tICcuL3BhZ2VzL3JlY2lwZS9SZWNpcGVXcml0ZVBhZ2UnO1xuaW1wb3J0IFJlY2lwZTQwNFBhZ2UgZnJvbSAnLi9wYWdlcy9SZWNpcGU0MDRQYWdlJztcbmltcG9ydCBDaGF0UGFnZSBmcm9tICcuL3BhZ2VzL2NoYXQvQ2hhdFBhZ2UnO1xuXG5jb25zdCBBcHAgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChzZXNzaW9uTG9naW5DaGVjaygpKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlckNvbnRhaW5lciwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1haW4sIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICBleGFjdDogdHJ1ZSxcbiAgICBwYXRoOiBcIi9cIixcbiAgICBjb21wb25lbnQ6IFJlY2lwZXNQYWdlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgIHBhdGg6IFwiL3JlY2lwZS86aWRcIixcbiAgICBjb21wb25lbnQ6IFJlY2lwZVBhZ2VcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogXCIvcmVjaXBld3JpdGUvOmlkXCIsXG4gICAgY29tcG9uZW50OiBSZWNpcGVXcml0ZVBhZ2VcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogXCIvY2hhdFwiLFxuICAgIGNvbXBvbmVudDogQ2hhdFBhZ2VcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgY29tcG9uZW50OiBSZWNpcGU0MDRQYWdlXG4gIH0pKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXBwOyIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHVzZXJSZWR1Y2VyIGZyb20gJy4vdXNlcic7XG5pbXBvcnQgcmVjaXBlUmVkdWNlciBmcm9tICcuL3JlY2lwZSc7XG5pbXBvcnQgcmVjaXBlc1JlZHVjZXIgZnJvbSAnLi9yZWNpcGVzJztcbmltcG9ydCBjaGF0UmVkdWNlciBmcm9tICcuL2NoYXQnO1xuY29uc3Qgcm9vdFJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xuICB1c2VyOiB1c2VyUmVkdWNlcixcbiAgcmVjaXBlOiByZWNpcGVSZWR1Y2VyLFxuICByZWNpcGVzOiByZWNpcGVzUmVkdWNlcixcbiAgY2hhdDogY2hhdFJlZHVjZXJcbn0pO1xuZXhwb3J0IGRlZmF1bHQgcm9vdFJlZHVjZXI7IiwiaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCByb290UmVkdWNlciBmcm9tICcuL3Jvb3RSZWR1Y2VyJztcbmNvbnN0IHN0b3JlID0gY29uZmlndXJlU3RvcmUoe1xuICByZWR1Y2VyOiByb290UmVkdWNlclxufSk7XG5leHBvcnQgZGVmYXVsdCBzdG9yZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IEhhc2hSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L3JlYWN0JztcbmltcG9ydCB7IEludGVncmF0aW9ucyB9IGZyb20gJ0BzZW50cnkvdHJhY2luZyc7XG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCBzdG9yZSBmcm9tICcuL3JlZHV4L3N0b3JlJztcblNlbnRyeS5pbml0KHtcbiAgZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOLFxuICBpbnRlZ3JhdGlvbnM6IFtuZXcgSW50ZWdyYXRpb25zLkJyb3dzZXJUcmFjaW5nKCldLFxuICB0cmFjZXNTYW1wbGVSYXRlOiAxLjBcbn0pO1xuUmVhY3RET00ucmVuZGVyKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciwge1xuICBzdG9yZTogc3RvcmVcbn0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhhc2hSb3V0ZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbCkpKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNySUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///127\n')}},[[127,1,7,4,22,16,19,14,20,15,13,23,5,9,11,21,18,12,6,17,25,2,3,10,8,24]]]);