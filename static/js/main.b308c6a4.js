(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{135:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(53),c=n.n(i),s=n(43),d=n(78),o=n(148),u=n(109),l=n(15),p=n(70),g=n(88);var m=n(62).a.div`
  box-sizing: border-box;
  background-color: #fff;
  padding-top: 30px;
  padding-bottom: 30px;
  margin: 20px auto;
  width: 100vw;
  height: 100vh;
  
  @media screen and (min-width: 600px) {
    width: 600px;
  }

  @media screen and (min-width: 768px) {
    width: 768px;
  }

  /* @media screen and (min-width: 1024px) {
    width: 1024px;
  } */
`;const f=Object(a.lazy)(()=>n.e(30).then(n.bind(null,162))),b=Object(a.lazy)(()=>n.e(31).then(n.bind(null,160))),h=Object(a.lazy)(()=>Promise.all([n.e(5),n.e(2),n.e(20),n.e(14),n.e(17),n.e(12),n.e(18),n.e(13),n.e(11),n.e(21),n.e(3),n.e(7),n.e(9),n.e(19),n.e(16),n.e(10),n.e(4),n.e(15),n.e(23),n.e(0),n.e(1),n.e(8),n.e(6),n.e(22),n.e(27)]).then(n.bind(null,163))),w=Object(a.lazy)(()=>Promise.all([n.e(5),n.e(2),n.e(20),n.e(14),n.e(17),n.e(12),n.e(18),n.e(13),n.e(11),n.e(21),n.e(3),n.e(7),n.e(9),n.e(19),n.e(16),n.e(10),n.e(4),n.e(15),n.e(23),n.e(0),n.e(1),n.e(8),n.e(6),n.e(22),n.e(26)]).then(n.bind(null,164))),j=Object(a.lazy)(()=>n.e(28).then(n.bind(null,159))),y=Object(a.lazy)(()=>n.e(29).then(n.bind(null,161)));var I=()=>{const e=Object(s.c)();return Object(a.useEffect)(()=>{e(Object(p.c)())},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(g.a,null)},r.a.createElement(f,null),r.a.createElement(m,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:b}),r.a.createElement(l.a,{path:"/recipe/:id",component:h}),r.a.createElement(l.a,{path:"/recipewrite/:id",component:w}),r.a.createElement(l.a,{path:"/chat",component:y}),r.a.createElement(l.a,{component:j})))))},O=n(36),v=n(21),R=n(87),x=n(89),L=n(90);var k=Object(v.c)({user:p.b,recipe:R.e,recipes:x.a,chat:L.b});var E=Object(O.a)({reducer:k});o.a({dsn:"https://ae354832c7564df3a77cdd48a16b9df3@o564321.ingest.sentry.io/5705008",integrations:[new u.a.BrowserTracing],tracesSampleRate:1}),c.a.render(r.a.createElement(s.a,{store:E},r.a.createElement(d.a,null,r.a.createElement(I,null))),document.getElementById("app"))},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return o}));var a=n(52);n(123),n(125),n(127);var r={apiKey:"AIzaSyBWq2ijQg3f9QqIx3gDKsYda0wIeed5zqE",authDomain:"mybakingrecipe.firebaseapp.com",databaseURL:"https://mybakingrecipe-default-rtdb.firebaseio.com",projectId:"mybakingrecipe",storageBucket:"mybakingrecipe.appspot.com",messagingSenderId:"915152243690",appId:"1:915152243690:web:eabd6afc6124e887434093",measurementId:"G-R8B8QCRYLB",status:"production"};a.a.initializeApp(r);const i=a.a.auth(),c=a.a.firestore,s=a.a.firestore(),d=new a.a.auth.GoogleAuthProvider,o=a.a.storage()},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return p}));var a=n(105),r=n(14),i=n(9);async function c(e){return r.b.collection("recipes").doc(e).get()}async function s(e){const t=r.b.collection("recipes");if(Object(i.e)(e)){return(await t.orderBy("created","desc").limit(i.a).get()).docs}var n;return(await t.orderBy("created","desc").startAfter((n=e.created,r.c.Timestamp.fromDate(new Date(n)))).limit(i.a).get()).docs}async function d(e){const{currentUser:{email:t}}=r.a;if(Object(i.j)(t)){const{id:n}=await r.b.collection("recipes").add({...e,userId:t,created:r.c.FieldValue.serverTimestamp(),updated:r.c.FieldValue.serverTimestamp(),show:!0});return n}return null}async function o(e){const{currentUser:{email:t}}=r.a;if(Object(i.j)(t)){const{id:n,title:a,category:i,product:c,ingredients:s,description:d,image:o}=e;await r.b.collection("recipes").doc(n).update({userId:t,title:a,category:i,product:c,ingredients:s,description:d,image:o,updated:r.c.FieldValue.serverTimestamp()})}}async function u({id:e,userId:t}){const{currentUser:{email:n}}=r.a;Object(i.j)(n)&&Object(i.h)(t)(n)&&await r.b.collection("recipes").doc(e).delete()}async function l({userId:e,upload:t,uuid:n=Object(a.v4)()}){const c=await r.e.ref().child(`${Object(i.d)(e)("@")}/${n}`);return(await c.putString(t,"data_url")).ref.getDownloadURL()}async function p({image:e}){await r.e.refFromURL(e).delete()}},70:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(36),r=n(14),i=n(80);const{actions:c,reducer:s}=Object(a.b)({name:"user",initialState:{userId:"",displayName:""},reducers:{setUser:(e,{payload:{name:t,value:n}})=>({...e,[t]:n}),clearUser:e=>({...e,userId:"",displayName:""})}});function d(){return async e=>{setTimeout(()=>{const t=r.a.currentUser||Object(i.a)("user");t?(Object(i.b)("user",t.email),e(c.setUser({name:"userId",value:t.email}))):e(c.clearUser())},1300)}}const{setUser:o,clearUser:u}=c;t.b=s},80:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=(e,t)=>{sessionStorage.setItem(e,t)},r=e=>sessionStorage.getItem(e)},87:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return w})),n.d(t,"h",(function(){return j})),n.d(t,"k",(function(){return y}));var a=n(36),r=n(34),i=n(9);const c={id:0,userId:"",title:"",category:0,product:0,ingredients:[],newIngredient:{id:0,ingredient:"",weight:0},description:"",upload:null,image:null},{actions:s,reducer:d}=Object(a.b)({name:"recipe",initialState:c,reducers:{setRecipe:(e,{payload:t})=>({...e,...t,newIngredient:{id:t.ingredients.length+1,ingredient:"",weight:0}}),setNewIngredient:(e,{payload:{fields:t}})=>({...e,ingredients:[t,...e.ingredients],newIngredient:{id:0,ingredient:"",weight:0}}),changeRecipe:(e,{payload:{name:t,value:n}})=>Object(i.h)(t)("product")?{...e,[t]:parseInt(n,10)}:{...e,[t]:n},changeIngredient(e,{payload:{name:t,value:n}}){const[a,r]=t.split("-");return Object(i.h)(a)("weight")?{...e,ingredients:e.ingredients.map(e=>parseInt(e.id,10)===parseInt(r,10)?{...e,[a]:parseInt(n,10)}:e)}:{...e,ingredients:e.ingredients.map(e=>parseInt(e.id,10)===parseInt(r,10)?{...e,[a]:n}:e)}},changeNewIngredient(e,{payload:{name:t,value:n}}){const[a,r]=t.split("-");return Object(i.h)(a)("weight")?{...e,newIngredient:{...e.newIngredient,id:parseInt(r,10),[a]:parseInt(n,10)}}:{...e,newIngredient:{...e.newIngredient,id:parseInt(r,10),[a]:n}}},clearRecipe:e=>({...e,...c}),removeIngredient(e,{payload:{value:t}}){const n=e.ingredients.length-1;return{...e,ingredients:e.ingredients.filter(e=>parseInt(e.id,10)!==parseInt(t,10)).map((e,t)=>({id:n-t,ingredient:e.ingredient,weight:e.weight})),newIngredient:{...e.newIngredient,id:parseInt(n+1,10)}}},swapIngredients(e,{payload:{originIndex:t,destinationIndex:n}}){const a=[...e.ingredients],r=a[t];a.splice(t,1),a.splice(n,0,r);const{length:i}=a;return{...e,ingredients:a.map((e,t)=>({...e,id:i-t}))}}}});function o(e){return async t=>{const n=await Object(r.c)(e);n.exists?t(s.setRecipe(Object(i.c)(n))):t(s.setRecipe(c))}}function u(){return async(e,t)=>{const{user:{userId:n},recipe:{id:a,title:c,category:s,product:d,ingredients:u,description:l,upload:p,image:g}}=t();if(Object(i.e)(n))return;if(Object(i.e)(c.trim())||Object(i.e)(s)||Object(i.e)(d)||Object(i.e)(l.trim()))return;let m="";if(Object(i.j)(p)&&Object(i.j)(g)&&(await Object(r.a)({image:g}),m=await Object(r.e)({userId:n,upload:p})),Object(i.j)(p)&&Object(i.e)(g)&&(m=await Object(r.e)({userId:n,upload:p})),Object(i.e)(a)){const t={userId:n,title:c,category:s,product:d,ingredients:u,description:l,image:m||g},a=await Object(r.f)(t);return void await e(o(a))}const f={id:a,title:c,category:s,product:d,ingredients:u,description:l,image:m||g};await Object(r.g)(f),await e(o(a))}}function l(){return async(e,t)=>{const{recipe:n}=t(),{id:a,userId:i}=n;await Object(r.b)({id:a,userId:i}),e(s.clearRecipe())}}function p(){return async(e,t)=>{const{recipe:{image:n}}=t();Object(i.e)(n)||(await Object(r.a)({image:n}),e(s.changeRecipe({name:"image",value:null})))}}const{setRecipe:g,setNewIngredient:m,changeRecipe:f,changeIngredient:b,changeNewIngredient:h,clearRecipe:w,removeIngredient:j,swapIngredients:y}=s;t.e=d},88:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(62);const c=i.a.div`
  position: absolute;
  display: inline-block;
  width: 75px;
  height: 75px;
  border: 10px solid hotpink;
  border-color: hotpink transparent transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;

  @keyframes spin {
    100% {
    transform: rotate(360deg);
    }
  }
`,s=i.a.div`
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  background: rgba(245, 234, 234, 0.3);
`;t.a=()=>r.a.createElement(s,null,r.a.createElement(c,null))},89:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return o}));var a=n(36),r=n(34),i=n(9);const{actions:c,reducer:s}=Object(a.b)({name:"recipes",initialState:{recipesBook:[],lastRecipe:{recipe:null,isLast:!1}},reducers:{setRecipes:(e,{payload:t})=>({...e,recipesBook:[...t]}),setLastRecipe:(e,{payload:{name:t,value:n}})=>({...e,lastRecipe:{...e.lastRecipe,[t]:n}}),addRecipes:(e,{payload:t})=>({...e,recipesBook:[...e.recipesBook,...t]})}});function d(){return async(e,t)=>{const{recipes:{lastRecipe:{recipe:n,isLast:a}}}=t();if(a)return;const s=await Object(r.d)(n);if(Object(i.e)(s))return void e(c.setRecipes([]));const d=s.map(e=>Object(i.c)(e));e(c.addRecipes(d)),e(c.setLastRecipe({name:"recipe",value:d[d.length-1]})),e(c.setLastRecipe({name:"isLast",value:!1})),d.length<i.a&&e(c.setLastRecipe({name:"isLast",value:!0}))}}function o(){return async e=>{const t=(await Object(r.d)()).map(e=>Object(i.c)(e));e(c.setRecipes(t)),e(c.setLastRecipe({name:"recipe",value:t[t.length-1]})),e(c.setLastRecipe({name:"isLast",value:!1}))}}const{setRecipes:u,setLastRecipe:l,addRecipes:p}=c;t.a=s},9:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m}));const a=e=>!e,r=e=>!a(e),i=e=>t=>e===t,c=e=>t=>!i(e)(t),s=e=>!(e=>Array.isArray(e))(e),d=e=>t=>e>t,o=e=>t=>e<t,u=e=>!a(e)&&e.toDate().toISOString(),l=e=>t=>e.split(t)[0],p=e=>{const{created:t,updated:n}=e.data();return{...e.data(),id:e.id,created:u(t),updated:u(n)}},g=e=>{const{created:t}=e.data();return{...e.data(),created:u(t)}},m=12},90:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n(36),r=n(14),i=n(9);const{actions:c,reducer:s}=Object(a.b)({name:"chat",initialState:{chatList:[],message:""},reducers:{setChatList:(e,{payload:t})=>({...e,chatList:[...t]}),changeMessage:(e,{payload:{name:t,value:n}})=>({...e,[t]:n}),clearMessage:e=>({...e,message:""})}});function d(){return async e=>{const t=(await async function(){const e=r.b.collection("messages");return(await e.orderBy("created").get()).docs}()).map(e=>Object(i.b)(e));e(c.setChatList(t))}}function o(){return async(e,t)=>{const{user:{userId:n},chat:{message:a}}=t();Object(i.e)(n)||(await async function(e){const{currentUser:{email:t}}=r.a;if(Object(i.j)(t)){const{id:n}=await r.b.collection("messages").add({user:Object(i.d)(t)("@"),message:e.message,created:r.c.FieldValue.serverTimestamp(),show:!0});return n}return null}({userId:n,message:a}),await e(c.clearMessage()),await e(d()))}}const{setChatList:u,changeMessage:l}=c;t.b=s}},[[135,25,5,2,20,14,17,12,18,13,11,21,3,7,9,19,16,10,4,15,23,0,1,8,6,22]]]);